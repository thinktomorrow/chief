var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ii,xn;function Wt(){if(xn)return ii;xn=1;function t(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}return ii=t,ii}var ni,On;function Jr(){if(On)return ni;On=1;var t=typeof wt=="object"&&wt&&wt.Object===Object&&wt;return ni=t,ni}var ri,Dn;function Te(){if(Dn)return ri;Dn=1;var t=Jr(),e=typeof self=="object"&&self&&self.Object===Object&&self,i=t||e||Function("return this")();return ri=i,ri}var oi,kn;function Xo(){if(kn)return oi;kn=1;var t=Te(),e=function(){return t.Date.now()};return oi=e,oi}var si,Ln;function zo(){if(Ln)return si;Ln=1;var t=/\s/;function e(i){for(var n=i.length;n--&&t.test(i.charAt(n)););return n}return si=e,si}var ai,Pn;function Jo(){if(Pn)return ai;Pn=1;var t=zo(),e=/^\s+/;function i(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ai=i,ai}var li,Mn;function Qr(){if(Mn)return li;Mn=1;var t=Te(),e=t.Symbol;return li=e,li}var ci,Nn;function Qo(){if(Nn)return ci;Nn=1;var t=Qr(),e=Object.prototype,i=e.hasOwnProperty,n=e.toString,r=t?t.toStringTag:void 0;function o(s){var a=i.call(s,r),l=s[r];try{s[r]=void 0;var c=!0}catch{}var u=n.call(s);return c&&(a?s[r]=l:delete s[r]),u}return ci=o,ci}var ui,Fn;function Zo(){if(Fn)return ui;Fn=1;var t=Object.prototype,e=t.toString;function i(n){return e.call(n)}return ui=i,ui}var hi,Rn;function mt(){if(Rn)return hi;Rn=1;var t=Qr(),e=Qo(),i=Zo(),n="[object Null]",r="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?r:n:o&&o in Object(a)?e(a):i(a)}return hi=s,hi}var di,jn;function Kt(){if(jn)return di;jn=1;function t(e){return e!=null&&typeof e=="object"}return di=t,di}var fi,Bn;function es(){if(Bn)return fi;Bn=1;var t=mt(),e=Kt(),i="[object Symbol]";function n(r){return typeof r=="symbol"||e(r)&&t(r)==i}return fi=n,fi}var pi,qn;function ts(){if(qn)return pi;qn=1;var t=Jo(),e=Wt(),i=es(),n=NaN,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(i(c))return n;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var h=o.test(c);return h||s.test(c)?a(c.slice(2),h?2:8):r.test(c)?n:+c}return pi=l,pi}var mi,$n;function is(){if($n)return mi;$n=1;var t=Wt(),e=Xo(),i=ts(),n="Expected a function",r=Math.max,o=Math.min;function s(a,l,c){var u,h,p,d,f,m,b=0,v=!1,y=!1,_=!0;if(typeof a!="function")throw new TypeError(n);l=i(l)||0,t(c)&&(v=!!c.leading,y="maxWait"in c,p=y?r(i(c.maxWait)||0,l):p,_="trailing"in c?!!c.trailing:_);function S(x){var O=u,H=h;return u=h=void 0,b=x,d=a.apply(H,O),d}function k(x){return b=x,f=setTimeout(F,l),v?S(x):d}function N(x){var O=x-m,H=x-b,V=l-O;return y?o(V,p-H):V}function P(x){var O=x-m,H=x-b;return m===void 0||O>=l||O<0||y&&H>=p}function F(){var x=e();if(P(x))return M(x);f=setTimeout(F,N(x))}function M(x){return f=void 0,_&&u?S(x):(u=h=void 0,d)}function G(){f!==void 0&&clearTimeout(f),b=0,u=m=h=f=void 0}function T(){return f===void 0?d:M(e())}function q(){var x=e(),O=P(x);if(u=arguments,h=this,m=x,O){if(f===void 0)return k(m);if(y)return clearTimeout(f),f=setTimeout(F,l),S(m)}return f===void 0&&(f=setTimeout(F,l)),d}return q.cancel=G,q.flush=T,q}return mi=s,mi}var ns=is();const Zr=zr(ns);class gt{constructor(e,i,n){this.name=e,this.element=i,this.conditionalFields=this.constructor._createConditionalFieldsObject(n),this.currentValues=[],this._init()}_init(){this._hideConditionalFields(),this._watch(),setTimeout(()=>{this._handle()},100)}_watch(){this.element.addEventListener("input",Zr(()=>{this._handle()},250))}_toggleConditionalFields(){this.conditionalFields.forEach(e=>{e.values.find(n=>this.constructor._isValidRegexExpression(n)?this.currentValues.find(r=>{const o=this.constructor._createRegexFromString(n);return r.match(o)}):this.currentValues.includes(n))?this._showConditionalField(e.element):this._hideConditionalField(e.element)})}_showConditionalField(e){const i=window.conditionalFieldsToggledByState.find(n=>n.field===e);i?i.toggledBy=[...new Set([...i.toggledBy,this.name])]:window.conditionalFieldsToggledByState.push({field:e,toggledBy:[this.name]}),e.classList.remove("hidden")}_hideConditionalField(e){const i=window.conditionalFieldsToggledByState.find(n=>n.field===e);if(!i){e.classList.add("hidden");return}i.toggledBy=i.toggledBy.filter(n=>n!==this.name),i.toggledBy.length===0&&(window.conditionalFieldsToggledByState=window.conditionalFieldsToggledByState.filter(n=>n.field===e),e.classList.add("hidden"))}_hideConditionalFields(){this.conditionalFields.forEach(e=>{e.element.classList.add("hidden")})}static _createConditionalFieldsObject(e){const i=[];for(const[n,r]of Object.entries(e)){const o=document.querySelector(`[data-field-key="${n}"]`);o?i.push({element:o,values:r}):console.error(`Error while trying to create conditional fields: Couldn't find formgroup with key ${n}. Make sure this field exists on this model.`)}return i}static _isValidRegexExpression(e){return e.match(/\/.*\/[dgimsuy]*/)}static _createRegexFromString(e){const i=e.split("/");return new RegExp(i[1],i[2])}}class rs extends gt{_handle(){const e=this.element.querySelector('input[type="text"]');this.currentValues=[e.value],this._toggleConditionalFields()}}class os extends gt{_handle(){this.currentValues=this._getCurrentValuesFromRadioElements(),this._toggleConditionalFields()}_getCurrentValuesFromRadioElements(){return Array.from(this.element.querySelectorAll('input[type="radio"]')).filter(e=>e.checked).map(e=>e.value)}}class eo extends gt{_handle(){this.currentValues=this._getCurrentValuesFromCheckboxElements(),this._toggleConditionalFields()}_getCurrentValuesFromCheckboxElements(){return Array.from(this.element.querySelectorAll('input[type="checkbox"]')).filter(e=>e.checked).map(e=>e.value)}}class ss extends eo{_handle(){this.currentValues=this._getCurrentValuesFromCheckboxElements(),this._toggleConditionalFields()}}class as extends gt{_handle(){this.currentValues=this._getCurrentValuesFromSelectElement(),this._toggleConditionalFields()}_getCurrentValuesFromSelectElement(){const e=this.element.querySelector("select");return Array.from(e.querySelectorAll("option")).filter(i=>i.selected).map(i=>i.value)}}class ls extends gt{_handle(){this.currentValues=this._getCurrentValuesFromSelectElement(),this._toggleConditionalFields()}_watch(){this.element.addEventListener("change",Zr(()=>{this._handle()},250))}_getCurrentValuesFromSelectElement(){const e=this.element.querySelector("select");return Array.from(e.querySelectorAll("option")).filter(i=>i.selected).map(i=>i.value)}}const to=(t=document,e="data-field-key",i="data-field-type",n="data-conditional-toggle")=>{const r=Array.from(t.querySelectorAll(`[${e}]`));window.conditionalFieldsToggledByState=[],r.forEach(o=>{const s=o.getAttribute(e),a=o.getAttribute(i),l=JSON.parse(o.getAttribute(n));if(!(!s||!a||!l))switch(a){case"input":new rs(s,o,l);break;case"radio":new os(s,o,l);break;case"checkbox":new eo(s,o,l);break;case"boolean":new ss(s,o,l);break;case"select":new as(s,o,l);break;case"multiselect":new ls(s,o,l);break;default:console.error(`Error while trying to initialise conditional fields: Trigger handling for type ${a} is not implemented yet ...`)}})},cs=()=>{to(document)},us=(t,e)=>{const i=e.getAttribute("data-character-count"),n=t.querySelector(`#${i.replaceAll(".","\\.")}`),r=e.getAttribute("data-character-count-max");if(!n){console.error(`Character count not initiated: No formField found by selector: #${i}`);return}n.addEventListener("input",function(){const o=this.value.length;e.classList.remove("text-red-400","text-orange-400"),o>=r?e.classList.add("text-red-400"):o>=r-r*.1&&e.classList.add("text-orange-400"),e.innerHTML=o}),n.dispatchEvent(new Event("input"))},io=(t="[data-character-count]")=>{Array.from(document.querySelectorAll(t)).forEach(e=>{us(document,e)})};document.addEventListener("DOMContentLoaded",()=>{cs(),io()});document.addEventListener("form-dialog-opened",t=>{setTimeout(()=>{const e=t.detail.componentId?document.querySelector(`[wire\\:id="${t.detail.componentId}"]`):document;to(e),io()},0)});/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Hn(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function ye(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Hn(Object(i),!0).forEach(function(n){hs(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Hn(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Ot(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ot=function(e){return typeof e}:Ot=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(t)}function hs(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ce(){return Ce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ce.apply(this,arguments)}function ds(t,e){if(t==null)return{};var i={},n=Object.keys(t),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(i[r]=t[r]);return i}function fs(t,e){if(t==null)return{};var i=ds(t,e),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ps="1.15.6";function Se(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ie=Se(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),vt=Se(/Edge/i),Vn=Se(/firefox/i),lt=Se(/safari/i)&&!Se(/chrome/i)&&!Se(/android/i),gn=Se(/iP(ad|od|hone)/i),no=Se(/chrome/i)&&Se(/android/i),ro={capture:!1,passive:!1};function L(t,e,i){t.addEventListener(e,i,!Ie&&ro)}function D(t,e,i){t.removeEventListener(e,i,!Ie&&ro)}function Mt(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function oo(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ue(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&Mt(t,e):Mt(t,e))||n&&t===i)return t;if(t===i)break}while(t=oo(t))}return null}var Wn=/\s+/g;function ne(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Wn," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(Wn," ")}}function E(t,e,i){var n=t&&t.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=i+(typeof i=="string"?"":"px")}}function Ue(t,e){var i="";if(typeof t=="string")i=t;else do{var n=E(t,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function so(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,o=n.length;if(i)for(;r<o;r++)i(n[r],r);return n}return[]}function ve(){var t=document.scrollingElement;return t||document.documentElement}function K(t,e,i,n,r){if(!(!t.getBoundingClientRect&&t!==window)){var o,s,a,l,c,u,h;if(t!==window&&t.parentNode&&t!==ve()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||i)&&t!==window&&(r=r||t.parentNode,!Ie))do if(r&&r.getBoundingClientRect&&(E(r,"transform")!=="none"||i&&E(r,"position")!=="static")){var p=r.getBoundingClientRect();s-=p.top+parseInt(E(r,"border-top-width")),a-=p.left+parseInt(E(r,"border-left-width")),l=s+o.height,c=a+o.width;break}while(r=r.parentNode);if(n&&t!==window){var d=Ue(r||t),f=d&&d.a,m=d&&d.d;d&&(s/=m,a/=f,h/=f,u/=m,l=s+u,c=a+h)}return{top:s,left:a,bottom:l,right:c,width:h,height:u}}}function Kn(t,e,i){for(var n=De(t,!0),r=K(t)[e];n;){var o=K(n)[i],s=void 0;if(s=r>=o,!s)return n;if(n===ve())break;n=De(n,!1)}return!1}function ze(t,e,i,n){for(var r=0,o=0,s=t.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==w.ghost&&(n||s[o]!==w.dragged)&&ue(s[o],i.draggable,t,!1)){if(r===e)return s[o];r++}o++}return null}function vn(t,e){for(var i=t.lastElementChild;i&&(i===w.ghost||E(i,"display")==="none"||e&&!Mt(i,e));)i=i.previousElementSibling;return i||null}function le(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==w.clone&&(!e||Mt(t,e))&&i++;return i}function Gn(t){var e=0,i=0,n=ve();if(t)do{var r=Ue(t),o=r.a,s=r.d;e+=t.scrollLeft*o,i+=t.scrollTop*s}while(t!==n&&(t=t.parentNode));return[e,i]}function ms(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i)}return-1}function De(t,e){if(!t||!t.getBoundingClientRect)return ve();var i=t,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=E(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return ve();if(n||e)return i;n=!0}}while(i=i.parentNode);return ve()}function gs(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function gi(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var ct;function ao(t,e){return function(){if(!ct){var i=arguments,n=this;i.length===1?t.call(n,i[0]):t.apply(n,i),ct=setTimeout(function(){ct=void 0},e)}}}function vs(){clearTimeout(ct),ct=void 0}function lo(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function co(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function uo(t,e,i){var n={};return Array.from(t.children).forEach(function(r){var o,s,a,l;if(!(!ue(r,e.draggable,t,!1)||r.animated||r===i)){var c=K(r);n.left=Math.min((o=n.left)!==null&&o!==void 0?o:1/0,c.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,c.top),n.right=Math.max((a=n.right)!==null&&a!==void 0?a:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var ie="Sortable"+new Date().getTime();function bs(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(E(r,"display")==="none"||r===w.ghost)){t.push({target:r,rect:K(r)});var o=ye({},t[t.length-1].rect);if(r.thisAnimationDuration){var s=Ue(r,!0);s&&(o.top-=s.f,o.left-=s.e)}r.fromRect=o}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(ms(t,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var o=!1,s=0;t.forEach(function(a){var l=0,c=a.target,u=c.fromRect,h=K(c),p=c.prevFromRect,d=c.prevToRect,f=a.rect,m=Ue(c,!0);m&&(h.top-=m.f,h.left-=m.e),c.toRect=h,c.thisAnimationDuration&&gi(p,h)&&!gi(u,h)&&(f.top-h.top)/(f.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(l=_s(f,p,d,r.options)),gi(h,u)||(c.prevFromRect=u,c.prevToRect=h,l||(l=r.options.animation),r.animate(c,f,h,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),t=[]},animate:function(n,r,o,s){if(s){E(n,"transition",""),E(n,"transform","");var a=Ue(this.el),l=a&&a.a,c=a&&a.d,u=(r.left-o.left)/(l||1),h=(r.top-o.top)/(c||1);n.animatingX=!!u,n.animatingY=!!h,E(n,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=ys(n),E(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),E(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){E(n,"transition",""),E(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function ys(t){return t.offsetWidth}function _s(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var Ve=[],vi={initializeByDefault:!0},bt={mount:function(e){for(var i in vi)vi.hasOwnProperty(i)&&!(i in e)&&(e[i]=vi[i]);Ve.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ve.push(e)},pluginEvent:function(e,i,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";Ve.forEach(function(s){i[s.pluginName]&&(i[s.pluginName][o]&&i[s.pluginName][o](ye({sortable:i},n)),i.options[s.pluginName]&&i[s.pluginName][e]&&i[s.pluginName][e](ye({sortable:i},n)))})},initializePlugins:function(e,i,n,r){Ve.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var c=new a(e,i,e.options);c.sortable=e,c.options=e.options,e[l]=c,Ce(n,c.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);typeof s<"u"&&(e.options[o]=s)}},getEventProperties:function(e,i){var n={};return Ve.forEach(function(r){typeof r.eventProperties=="function"&&Ce(n,r.eventProperties.call(i[r.pluginName],e))}),n},modifyOption:function(e,i,n){var r;return Ve.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[i]=="function"&&(r=o.optionListeners[i].call(e[o.pluginName],n))}),r}};function ws(t){var e=t.sortable,i=t.rootEl,n=t.name,r=t.targetEl,o=t.cloneEl,s=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,p=t.originalEvent,d=t.putSortable,f=t.extraEventProperties;if(e=e||i&&i[ie],!!e){var m,b=e.options,v="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ie&&!vt?m=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(n,!0,!0)),m.to=s||i,m.from=a||i,m.item=r||i,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=p,m.pullMode=d?d.lastPutMode:void 0;var y=ye(ye({},f),bt.getEventProperties(n,e));for(var _ in y)m[_]=y[_];i&&i.dispatchEvent(m),b[v]&&b[v].call(e,m)}}var Es=["evt"],Z=function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=fs(n,Es);bt.pluginEvent.bind(w)(e,i,ye({dragEl:g,parentEl:B,ghostEl:A,rootEl:R,nextEl:Re,lastDownEl:Dt,cloneEl:j,cloneHidden:Oe,dragStarted:it,putSortable:U,activeSortable:w.active,originalEvent:r,oldIndex:Ge,oldDraggableIndex:ut,newIndex:re,newDraggableIndex:xe,hideGhostForTarget:mo,unhideGhostForTarget:go,cloneNowHidden:function(){Oe=!0},cloneNowShown:function(){Oe=!1},dispatchSortableEvent:function(a){Q({sortable:i,name:a,originalEvent:r})}},o))};function Q(t){ws(ye({putSortable:U,cloneEl:j,targetEl:g,rootEl:R,oldIndex:Ge,oldDraggableIndex:ut,newIndex:re,newDraggableIndex:xe},t))}var g,B,A,R,Re,Dt,j,Oe,Ge,re,ut,xe,Et,U,Ke=!1,Nt=!1,Ft=[],Ne,ce,bi,yi,Yn,Un,it,We,ht,dt=!1,St=!1,kt,z,_i=[],nn=!1,Rt=[],Gt=typeof document<"u",Ct=gn,Xn=vt||Ie?"cssFloat":"float",Ss=Gt&&!no&&!gn&&"draggable"in document.createElement("div"),ho=function(){if(Gt){if(Ie)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),fo=function(e,i){var n=E(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=ze(e,0,i),s=ze(e,1,i),a=o&&E(o),l=s&&E(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+K(o).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+K(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=r&&n[Xn]==="none"||s&&n[Xn]==="none"&&c+u>r)?"vertical":"horizontal"},Cs=function(e,i,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,s=n?e.width:e.height,a=n?i.left:i.top,l=n?i.right:i.bottom,c=n?i.width:i.height;return r===a||o===l||r+s/2===a+c/2},As=function(e,i){var n;return Ft.some(function(r){var o=r[ie].options.emptyInsertThreshold;if(!(!o||vn(r))){var s=K(r),a=e>=s.left-o&&e<=s.right+o,l=i>=s.top-o&&i<=s.bottom+o;if(a&&l)return n=r}}),n},po=function(e){function i(o,s){return function(a,l,c,u){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||h))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return i(o(a,l,c,u),s)(a,l,c,u);var p=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===p||o.join&&o.indexOf(p)>-1}}var n={},r=e.group;(!r||Ot(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=i(r.pull,!0),n.checkPut=i(r.put),n.revertClone=r.revertClone,e.group=n},mo=function(){!ho&&A&&E(A,"display","none")},go=function(){!ho&&A&&E(A,"display","")};Gt&&!no&&document.addEventListener("click",function(t){if(Nt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Nt=!1,!1},!0);var Fe=function(e){if(g){e=e.touches?e.touches[0]:e;var i=As(e.clientX,e.clientY);if(i){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[ie]._onDragOver(n)}}},Ts=function(e){g&&g.parentNode[ie]._isOutsideThisEl(e.target)};function w(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ce({},e),t[ie]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return fo(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&(!lt||gn),emptyInsertThreshold:5};bt.initializePlugins(this,t,i);for(var n in i)!(n in e)&&(e[n]=i[n]);po(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:Ss,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?L(t,"pointerdown",this._onTapStart):(L(t,"mousedown",this._onTapStart),L(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(L(t,"dragover",this),L(t,"dragenter",this)),Ft.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ce(this,bs())}w.prototype={constructor:w,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(We=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,g):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,n=this.el,r=this.options,o=r.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=r.filter;if(Ms(n),!g&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&lt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ue(l,r.draggable,n,!1),!(l&&l.animated)&&Dt!==l)){if(Ge=le(l),ut=le(l,r.draggable),typeof u=="function"){if(u.call(this,e,l,this)){Q({sortable:i,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),Z("filter",i,{evt:e}),o&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=ue(c,h.trim(),n,!1),h)return Q({sortable:i,rootEl:h,name:"filter",targetEl:l,fromEl:n,toEl:n}),Z("filter",i,{evt:e}),!0}),u)){o&&e.preventDefault();return}r.handle&&!ue(c,r.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,i,n){var r=this,o=r.el,s=r.options,a=o.ownerDocument,l;if(n&&!g&&n.parentNode===o){var c=K(n);if(R=o,g=n,B=g.parentNode,Re=g.nextSibling,Dt=n,Et=s.group,w.dragged=g,Ne={target:g,clientX:(i||e).clientX,clientY:(i||e).clientY},Yn=Ne.clientX-c.left,Un=Ne.clientY-c.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,g.style["will-change"]="all",l=function(){if(Z("delayEnded",r,{evt:e}),w.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Vn&&r.nativeDraggable&&(g.draggable=!0),r._triggerDragStart(e,i),Q({sortable:r,name:"choose",originalEvent:e}),ne(g,s.chosenClass,!0)},s.ignore.split(",").forEach(function(u){so(g,u.trim(),wi)}),L(a,"dragover",Fe),L(a,"mousemove",Fe),L(a,"touchmove",Fe),s.supportPointer?(L(a,"pointerup",r._onDrop),!this.nativeDraggable&&L(a,"pointercancel",r._onDrop)):(L(a,"mouseup",r._onDrop),L(a,"touchend",r._onDrop),L(a,"touchcancel",r._onDrop)),Vn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),Z("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(vt||Ie))){if(w.eventCanceled){this._onDrop();return}s.supportPointer?(L(a,"pointerup",r._disableDelayedDrag),L(a,"pointercancel",r._disableDelayedDrag)):(L(a,"mouseup",r._disableDelayedDrag),L(a,"touchend",r._disableDelayedDrag),L(a,"touchcancel",r._disableDelayedDrag)),L(a,"mousemove",r._delayedDragTouchMoveHandler),L(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&L(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&wi(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._disableDelayedDrag),D(e,"touchend",this._disableDelayedDrag),D(e,"touchcancel",this._disableDelayedDrag),D(e,"pointerup",this._disableDelayedDrag),D(e,"pointercancel",this._disableDelayedDrag),D(e,"mousemove",this._delayedDragTouchMoveHandler),D(e,"touchmove",this._delayedDragTouchMoveHandler),D(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?L(document,"pointermove",this._onTouchMove):i?L(document,"touchmove",this._onTouchMove):L(document,"mousemove",this._onTouchMove):(L(g,"dragend",this),L(R,"dragstart",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Ke=!1,R&&g){Z("dragStarted",this,{evt:i}),this.nativeDraggable&&L(document,"dragover",Ts);var n=this.options;!e&&ne(g,n.dragClass,!1),ne(g,n.ghostClass,!0),w.active=this,e&&this._appendGhost(),Q({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(ce){this._lastX=ce.clientX,this._lastY=ce.clientY,mo();for(var e=document.elementFromPoint(ce.clientX,ce.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ce.clientX,ce.clientY),e!==i);)i=e;if(g.parentNode[ie]._isOutsideThisEl(e),i)do{if(i[ie]){var n=void 0;if(n=i[ie]._onDragOver({clientX:ce.clientX,clientY:ce.clientY,target:e,rootEl:i}),n&&!this.options.dragoverBubble)break}e=i}while(i=oo(i));go()}},_onTouchMove:function(e){if(Ne){var i=this.options,n=i.fallbackTolerance,r=i.fallbackOffset,o=e.touches?e.touches[0]:e,s=A&&Ue(A,!0),a=A&&s&&s.a,l=A&&s&&s.d,c=Ct&&z&&Gn(z),u=(o.clientX-Ne.clientX+r.x)/(a||1)+(c?c[0]-_i[0]:0)/(a||1),h=(o.clientY-Ne.clientY+r.y)/(l||1)+(c?c[1]-_i[1]:0)/(l||1);if(!w.active&&!Ke){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(A){s?(s.e+=u-(bi||0),s.f+=h-(yi||0)):s={a:1,b:0,c:0,d:1,e:u,f:h};var p="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");E(A,"webkitTransform",p),E(A,"mozTransform",p),E(A,"msTransform",p),E(A,"transform",p),bi=u,yi=h,ce=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!A){var e=this.options.fallbackOnBody?document.body:R,i=K(g,!0,Ct,!0,e),n=this.options;if(Ct){for(z=e;E(z,"position")==="static"&&E(z,"transform")==="none"&&z!==document;)z=z.parentNode;z!==document.body&&z!==document.documentElement?(z===document&&(z=ve()),i.top+=z.scrollTop,i.left+=z.scrollLeft):z=ve(),_i=Gn(z)}A=g.cloneNode(!0),ne(A,n.ghostClass,!1),ne(A,n.fallbackClass,!0),ne(A,n.dragClass,!0),E(A,"transition",""),E(A,"transform",""),E(A,"box-sizing","border-box"),E(A,"margin",0),E(A,"top",i.top),E(A,"left",i.left),E(A,"width",i.width),E(A,"height",i.height),E(A,"opacity","0.8"),E(A,"position",Ct?"absolute":"fixed"),E(A,"zIndex","100000"),E(A,"pointerEvents","none"),w.ghost=A,e.appendChild(A),E(A,"transform-origin",Yn/parseInt(A.style.width)*100+"% "+Un/parseInt(A.style.height)*100+"%")}},_onDragStart:function(e,i){var n=this,r=e.dataTransfer,o=n.options;if(Z("dragStart",this,{evt:e}),w.eventCanceled){this._onDrop();return}Z("setupClone",this),w.eventCanceled||(j=co(g),j.removeAttribute("id"),j.draggable=!1,j.style["will-change"]="",this._hideClone(),ne(j,this.options.chosenClass,!1),w.clone=j),n.cloneId=Lt(function(){Z("clone",n),!w.eventCanceled&&(n.options.removeCloneOnHide||R.insertBefore(j,g),n._hideClone(),Q({sortable:n,name:"clone"}))}),!i&&ne(g,o.dragClass,!0),i?(Nt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(D(document,"mouseup",n._onDrop),D(document,"touchend",n._onDrop),D(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,g)),L(document,"drop",n),E(g,"transform","translateZ(0)")),Ke=!0,n._dragStartId=Lt(n._dragStarted.bind(n,i,e)),L(document,"selectstart",n),it=!0,window.getSelection().removeAllRanges(),lt&&E(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,n=e.target,r,o,s,a=this.options,l=a.group,c=w.active,u=Et===l,h=a.sort,p=U||c,d,f=this,m=!1;if(nn)return;function b(Y,fe){Z(Y,f,ye({evt:e,isOwner:u,axis:d?"vertical":"horizontal",revert:s,dragRect:r,targetRect:o,canSort:h,fromSortable:p,target:n,completed:y,onMove:function(In,Uo){return At(R,i,g,r,In,K(In),e,Uo)},changed:_},fe))}function v(){b("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function y(Y){return b("dragOverCompleted",{insertion:Y}),Y&&(u?c._hideClone():c._showClone(f),f!==p&&(ne(g,U?U.options.ghostClass:c.options.ghostClass,!1),ne(g,a.ghostClass,!0)),U!==f&&f!==w.active?U=f:f===w.active&&U&&(U=null),p===f&&(f._ignoreWhileAnimating=n),f.animateAll(function(){b("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===g&&!g.animated||n===i&&!n.animated)&&(We=null),!a.dragoverBubble&&!e.rootEl&&n!==document&&(g.parentNode[ie]._isOutsideThisEl(e.target),!Y&&Fe(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function _(){re=le(g),xe=le(g,a.draggable),Q({sortable:f,name:"change",toEl:i,newIndex:re,newDraggableIndex:xe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ue(n,a.draggable,i,!0),b("dragOver"),w.eventCanceled)return m;if(g.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||f._ignoreWhileAnimating===n)return y(!1);if(Nt=!1,c&&!a.disabled&&(u?h||(s=B!==R):U===this||(this.lastPutMode=Et.checkPull(this,c,g,e))&&l.checkPut(this,c,g,e))){if(d=this._getDirection(e,n)==="vertical",r=K(g),b("dragOverValid"),w.eventCanceled)return m;if(s)return B=R,v(),this._hideClone(),b("revert"),w.eventCanceled||(Re?R.insertBefore(g,Re):R.appendChild(g)),y(!0);var S=vn(i,a.draggable);if(!S||Ds(e,d,this)&&!S.animated){if(S===g)return y(!1);if(S&&i===e.target&&(n=S),n&&(o=K(n)),At(R,i,g,r,n,o,e,!!n)!==!1)return v(),S&&S.nextSibling?i.insertBefore(g,S.nextSibling):i.appendChild(g),B=i,_(),y(!0)}else if(S&&Os(e,d,this)){var k=ze(i,0,a,!0);if(k===g)return y(!1);if(n=k,o=K(n),At(R,i,g,r,n,o,e,!1)!==!1)return v(),i.insertBefore(g,k),B=i,_(),y(!0)}else if(n.parentNode===i){o=K(n);var N=0,P,F=g.parentNode!==i,M=!Cs(g.animated&&g.toRect||r,n.animated&&n.toRect||o,d),G=d?"top":"left",T=Kn(n,"top","top")||Kn(g,"top","top"),q=T?T.scrollTop:void 0;We!==n&&(P=o[G],dt=!1,St=!M&&a.invertSwap||F),N=ks(e,n,o,d,M?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,St,We===n);var x;if(N!==0){var O=le(g);do O-=N,x=B.children[O];while(x&&(E(x,"display")==="none"||x===A))}if(N===0||x===n)return y(!1);We=n,ht=N;var H=n.nextElementSibling,V=!1;V=N===1;var ae=At(R,i,g,r,n,o,e,V);if(ae!==!1)return(ae===1||ae===-1)&&(V=ae===1),nn=!0,setTimeout(xs,30),v(),V&&!H?i.appendChild(g):n.parentNode.insertBefore(g,V?H:n),T&&lo(T,0,q-T.scrollTop),B=g.parentNode,P!==void 0&&!St&&(kt=Math.abs(P-K(n)[G])),_(),y(!0)}if(i.contains(g))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){D(document,"mousemove",this._onTouchMove),D(document,"touchmove",this._onTouchMove),D(document,"pointermove",this._onTouchMove),D(document,"dragover",Fe),D(document,"mousemove",Fe),D(document,"touchmove",Fe)},_offUpEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._onDrop),D(e,"touchend",this._onDrop),D(e,"pointerup",this._onDrop),D(e,"pointercancel",this._onDrop),D(e,"touchcancel",this._onDrop),D(document,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;if(re=le(g),xe=le(g,n.draggable),Z("drop",this,{evt:e}),B=g&&g.parentNode,re=le(g),xe=le(g,n.draggable),w.eventCanceled){this._nulling();return}Ke=!1,St=!1,dt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),rn(this.cloneId),rn(this._dragStartId),this.nativeDraggable&&(D(document,"drop",this),D(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),lt&&E(document.body,"user-select",""),E(g,"transform",""),e&&(it&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),A&&A.parentNode&&A.parentNode.removeChild(A),(R===B||U&&U.lastPutMode!=="clone")&&j&&j.parentNode&&j.parentNode.removeChild(j),g&&(this.nativeDraggable&&D(g,"dragend",this),wi(g),g.style["will-change"]="",it&&!Ke&&ne(g,U?U.options.ghostClass:this.options.ghostClass,!1),ne(g,this.options.chosenClass,!1),Q({sortable:this,name:"unchoose",toEl:B,newIndex:null,newDraggableIndex:null,originalEvent:e}),R!==B?(re>=0&&(Q({rootEl:B,name:"add",toEl:B,fromEl:R,originalEvent:e}),Q({sortable:this,name:"remove",toEl:B,originalEvent:e}),Q({rootEl:B,name:"sort",toEl:B,fromEl:R,originalEvent:e}),Q({sortable:this,name:"sort",toEl:B,originalEvent:e})),U&&U.save()):re!==Ge&&re>=0&&(Q({sortable:this,name:"update",toEl:B,originalEvent:e}),Q({sortable:this,name:"sort",toEl:B,originalEvent:e})),w.active&&((re==null||re===-1)&&(re=Ge,xe=ut),Q({sortable:this,name:"end",toEl:B,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Z("nulling",this),R=g=B=A=Re=j=Dt=Oe=Ne=ce=it=re=xe=Ge=ut=We=ht=U=Et=w.dragged=w.ghost=w.clone=w.active=null,Rt.forEach(function(e){e.checked=!0}),Rt.length=bi=yi=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),Is(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,n=this.el.children,r=0,o=n.length,s=this.options;r<o;r++)i=n[r],ue(i,s.draggable,this.el,!1)&&e.push(i.getAttribute(s.dataIdAttr)||Ps(i));return e},sort:function(e,i){var n={},r=this.el;this.toArray().forEach(function(o,s){var a=r.children[s];ue(a,this.options.draggable,r,!1)&&(n[o]=a)},this),i&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return ue(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var n=this.options;if(i===void 0)return n[e];var r=bt.modifyOption(this,e,i);typeof r<"u"?n[e]=r:n[e]=i,e==="group"&&po(n)},destroy:function(){Z("destroy",this);var e=this.el;e[ie]=null,D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart),D(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ft.splice(Ft.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Oe){if(Z("hideClone",this),w.eventCanceled)return;E(j,"display","none"),this.options.removeCloneOnHide&&j.parentNode&&j.parentNode.removeChild(j),Oe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Oe){if(Z("showClone",this),w.eventCanceled)return;g.parentNode==R&&!this.options.group.revertClone?R.insertBefore(j,g):Re?R.insertBefore(j,Re):R.appendChild(j),this.options.group.revertClone&&this.animate(g,j),E(j,"display",""),Oe=!1}}};function Is(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function At(t,e,i,n,r,o,s,a){var l,c=t[ie],u=c.options.onMove,h;return window.CustomEvent&&!Ie&&!vt?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=r||e,l.relatedRect=o||K(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),u&&(h=u.call(c,l,s)),h}function wi(t){t.draggable=!1}function xs(){nn=!1}function Os(t,e,i){var n=K(ze(i.el,0,i.options,!0)),r=uo(i.el,i.options,A),o=10;return e?t.clientX<r.left-o||t.clientY<n.top&&t.clientX<n.right:t.clientY<r.top-o||t.clientY<n.bottom&&t.clientX<n.left}function Ds(t,e,i){var n=K(vn(i.el,i.options.draggable)),r=uo(i.el,i.options,A),o=10;return e?t.clientX>r.right+o||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>r.bottom+o||t.clientX>n.right&&t.clientY>n.top}function ks(t,e,i,n,r,o,s,a){var l=n?t.clientY:t.clientX,c=n?i.height:i.width,u=n?i.top:i.left,h=n?i.bottom:i.right,p=!1;if(!s){if(a&&kt<c*r){if(!dt&&(ht===1?l>u+c*o/2:l<h-c*o/2)&&(dt=!0),dt)p=!0;else if(ht===1?l<u+kt:l>h-kt)return-ht}else if(l>u+c*(1-r)/2&&l<h-c*(1-r)/2)return Ls(e)}return p=p||s,p&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}function Ls(t){return le(g)<le(t)?1:-1}function Ps(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function Ms(t){Rt.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&Rt.push(n)}}function Lt(t){return setTimeout(t,0)}function rn(t){return clearTimeout(t)}Gt&&L(document,"touchmove",function(t){(w.active||Ke)&&t.cancelable&&t.preventDefault()});w.utils={on:L,off:D,css:E,find:so,is:function(e,i){return!!ue(e,i,e,!1)},extend:gs,throttle:ao,closest:ue,toggleClass:ne,clone:co,index:le,nextTick:Lt,cancelNextTick:rn,detectDirection:fo,getChild:ze,expando:ie};w.get=function(t){return t[ie]};w.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(w.utils=ye(ye({},w.utils),n.utils)),bt.mount(n)})};w.create=function(t,e){return new w(t,e)};w.version=ps;var W=[],nt,on,sn=!1,Ei,Si,jt,rt;function Ns(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?L(document,"dragover",this._handleAutoScroll):this.options.supportPointer?L(document,"pointermove",this._handleFallbackAutoScroll):n.touches?L(document,"touchmove",this._handleFallbackAutoScroll):L(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):(D(document,"pointermove",this._handleFallbackAutoScroll),D(document,"touchmove",this._handleFallbackAutoScroll),D(document,"mousemove",this._handleFallbackAutoScroll)),zn(),Pt(),vs()},nulling:function(){jt=on=nt=sn=rt=Ei=Si=null,W.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var r=this,o=(i.touches?i.touches[0]:i).clientX,s=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(o,s);if(jt=i,n||this.options.forceAutoScrollFallback||vt||Ie||lt){Ci(i,this.options,a,n);var l=De(a,!0);sn&&(!rt||o!==Ei||s!==Si)&&(rt&&zn(),rt=setInterval(function(){var c=De(document.elementFromPoint(o,s),!0);c!==l&&(l=c,Pt()),Ci(i,r.options,c,n)},10),Ei=o,Si=s)}else{if(!this.options.bubbleScroll||De(a,!0)===ve()){Pt();return}Ci(i,this.options,De(a,!1),!1)}}},Ce(t,{pluginName:"scroll",initializeByDefault:!0})}function Pt(){W.forEach(function(t){clearInterval(t.pid)}),W=[]}function zn(){clearInterval(rt)}var Ci=ao(function(t,e,i,n){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,a=e.scrollSpeed,l=ve(),c=!1,u;on!==i&&(on=i,Pt(),nt=e.scroll,u=e.scrollFn,nt===!0&&(nt=De(i,!0)));var h=0,p=nt;do{var d=p,f=K(d),m=f.top,b=f.bottom,v=f.left,y=f.right,_=f.width,S=f.height,k=void 0,N=void 0,P=d.scrollWidth,F=d.scrollHeight,M=E(d),G=d.scrollLeft,T=d.scrollTop;d===l?(k=_<P&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),N=S<F&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(k=_<P&&(M.overflowX==="auto"||M.overflowX==="scroll"),N=S<F&&(M.overflowY==="auto"||M.overflowY==="scroll"));var q=k&&(Math.abs(y-r)<=s&&G+_<P)-(Math.abs(v-r)<=s&&!!G),x=N&&(Math.abs(b-o)<=s&&T+S<F)-(Math.abs(m-o)<=s&&!!T);if(!W[h])for(var O=0;O<=h;O++)W[O]||(W[O]={});(W[h].vx!=q||W[h].vy!=x||W[h].el!==d)&&(W[h].el=d,W[h].vx=q,W[h].vy=x,clearInterval(W[h].pid),(q!=0||x!=0)&&(c=!0,W[h].pid=setInterval((function(){n&&this.layer===0&&w.active._onTouchMove(jt);var H=W[this.layer].vy?W[this.layer].vy*a:0,V=W[this.layer].vx?W[this.layer].vx*a:0;typeof u=="function"&&u.call(w.dragged.parentNode[ie],V,H,t,jt,W[this.layer].el)!=="continue"||lo(W[this.layer].el,V,H)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==l&&(p=De(p,!1)));sn=c}},30),vo=function(e){var i=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var c=n||o;a();var u=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,h=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(h)&&(s("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function bn(){}bn.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=ze(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(i,r):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:vo};Ce(bn,{pluginName:"revertOnSpill"});function yn(){}yn.prototype={onSpill:function(e){var i=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),r.animateAll()},drop:vo};Ce(yn,{pluginName:"removeOnSpill"});w.mount(new Ns);w.mount(yn,bn);window.Sortable=w;const Fs=t=>{t.sortable=w.create(t,{dataIdAttr:"x-sortable-item",draggable:"[x-sortable-item]",handle:"[x-sortable-handle]",group:t.getAttribute("x-sortable-group"),ghostClass:t.getAttribute("x-sortable-ghost-class")||"sortable-ghost-class",dragClass:t.getAttribute("x-sortable-drag-class")||"sortable-drag-class",animation:t.getAttribute("x-sortable-animation")||150,swapThreshold:t.getAttribute("x-sortable-swap-threshold")||.65,fallbackOnBody:t.hasAttribute("x-sortable-fallback-on-body")||!0})},Yt=function(t,e={}){this.Sortables=t,this.isSorting=e.isSorting||!1,this.onShowSorting=e.onShowSorting||function(){},this.onHideSorting=e.onHideSorting||function(){},this.sortToggles=Array.from(document.querySelectorAll("[data-sortable-toggle]")),this.hiddenWhenSortingEls=Array.from(document.querySelectorAll("[data-sortable-hide-when-sorting]")),this.showWhenSortingEls=Array.from(document.querySelectorAll("[data-sortable-show-when-sorting]")),this.classWhenSortingEls=Array.from(document.querySelectorAll("[data-sortable-class-when-sorting]")),this.classWhenNotSortingEls=Array.from(document.querySelectorAll("[data-sortable-class-when-not-sorting]")),this.sortToggles.forEach(i=>{i.addEventListener("click",this.toggle.bind(this))}),this.isSorting?this.showSorting():this.hideSorting()};Yt.prototype.toggle=function(t){this.isSorting=!this.isSorting,this.isSorting?(t.target.innerText="Stop met sorteren",this.showSorting()):(t.target.innerText="Pas volgorde aan",this.hideSorting())};Yt.prototype.showSorting=function(){this.hiddenWhenSortingEls.forEach(t=>{t.style.display="none"}),this.showWhenSortingEls.forEach(t=>{t.style.removeProperty("display")}),this.classWhenSortingEls.forEach(t=>{t.classList.add(t.getAttribute("data-sortable-class-when-sorting").split(","))}),this.classWhenNotSortingEls.forEach(t=>{t.classList.remove(t.getAttribute("data-sortable-class-when-not-sorting").split(","))}),this.Sortables.forEach(t=>{t.option("disabled",!1)}),this.onShowSorting()};Yt.prototype.hideSorting=function(){this.hiddenWhenSortingEls.forEach(t=>{t.style.removeProperty("display")}),this.showWhenSortingEls.forEach(t=>{t.style.display="none"}),this.classWhenSortingEls.forEach(t=>{t.classList.remove(t.getAttribute("data-sortable-class-when-sorting").split(","))}),this.classWhenNotSortingEls.forEach(t=>{t.classList.add(t.getAttribute("data-sortable-class-when-not-sorting").split(","))}),this.Sortables.forEach(t=>{t.option("disabled",!0)}),this.onHideSorting()};const Ut=function(t,e){if(this.Sortables=[],this.sortableGroupEl=t,this.sortableGroupId=e.sortableGroupId||"models",this.sortableIdAttribute=e.sortableId||"data-sortable-id",this.sortableIdType=e.sortableIdType||"int",this.endpoint=e.endpoint,this.nestedEndpoint=e.nestedEndpoint,!this.endpoint)throw new Error("Missing endpoint for sortable js. Please set the options.endpoint value");this.handle=e.handle||null,this._init(),new Yt(this.Sortables,{isSorting:e.isSorting||!1})};Ut.prototype.destroy=function(){this.Sortables.forEach(t=>t.destroy())};Ut.prototype._init=function(){const t=this;this.Sortables.push(w.create(this.sortableGroupEl,{group:this.sortableGroupId,fallbackOnBody:!0,swapThreshold:.65,invertSwap:!1,dataIdAttr:this.sortableIdAttribute,handle:this.handle,animation:150,easing:"cubic-bezier(0.87, 0, 0.13, 1)",filter:"[data-sortable-ignore]",onEnd:e=>{if(!t.nestedEndpoint||e.to===e.from)return;const i=e.item.dataset.sortableId,n=e.to.dataset.sortableGroupId||null;fetch(t.nestedEndpoint,{method:"post",body:JSON.stringify({itemId:i,parentId:n,order:e.newIndex}),headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(()=>{window.dispatchEvent(new CustomEvent("create-notification",{detail:{type:"success",content:"Item is verplaatst.",duration:2e3}}))}).catch(r=>{window.dispatchEvent(new CustomEvent("create-notification",{detail:{type:"error",content:"Het item kan niet worden verplaatst. Er is iets misgelopen.",duration:5e3}})),console.error(r)})},store:{set(e){const i=t._filterSortableIndices(e.toArray());i.length<1||fetch(t.endpoint,{method:"post",body:JSON.stringify({indices:i}),headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(()=>{window.dispatchEvent(new CustomEvent("create-notification",{detail:{type:"success",content:"Nieuwe sortering bewaard.",duration:2e3}}))}).catch(n=>{window.dispatchEvent(new CustomEvent("create-notification",{detail:{type:"error",content:"Sortering kan niet bewaard worden. Er is iets misgelopen.",duration:5e3}})),console.error(n)})}}}))};Ut.prototype._filterSortableIndices=function(t){return this.sortableIdType==="int"?t.filter(e=>e.match(/^[0-9]+$/)):t};const Rs=(t,e=document,i={})=>{Array.from(e.querySelectorAll(t)).forEach(n=>{new Ut(n,{sortableGroupId:n.getAttribute("data-sortable-group")||"models",endpoint:n.getAttribute("data-sortable-endpoint"),nestedEndpoint:n.getAttribute("data-sortable-nested-endpoint"),handle:"[data-sortable-handle]",isSorting:n.hasAttribute("data-sortable-is-sorting"),sortableIdType:n.getAttribute("data-sortable-id-type")||"int",...i})})};Rs("[data-sortable]");window.Sortable=w;window.Livewire.directive("sortable",({el:t})=>{t.sortable=w.create(t,{draggable:"[wire\\:sortable\\.item]",handle:"[wire\\:sortable\\.handle]",dataIdAttr:"wire:sortable.item",ghostClass:"bg-primary-50",dragClass:"bg-white"})});window.Alpine.directive("sortable",Fs);var Ai,Jn;function bo(){if(Jn)return Ai;Jn=1;var t=Object.prototype;function e(i){var n=i&&i.constructor,r=typeof n=="function"&&n.prototype||t;return i===r}return Ai=e,Ai}var Ti,Qn;function js(){if(Qn)return Ti;Qn=1;function t(e,i){return function(n){return e(i(n))}}return Ti=t,Ti}var Ii,Zn;function Bs(){if(Zn)return Ii;Zn=1;var t=js(),e=t(Object.keys,Object);return Ii=e,Ii}var xi,er;function qs(){if(er)return xi;er=1;var t=bo(),e=Bs(),i=Object.prototype,n=i.hasOwnProperty;function r(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))n.call(o,a)&&a!="constructor"&&s.push(a);return s}return xi=r,xi}var Oi,tr;function yo(){if(tr)return Oi;tr=1;var t=mt(),e=Wt(),i="[object AsyncFunction]",n="[object Function]",r="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==n||l==r||l==i||l==o}return Oi=s,Oi}var Di,ir;function $s(){if(ir)return Di;ir=1;var t=Te(),e=t["__core-js_shared__"];return Di=e,Di}var ki,nr;function Hs(){if(nr)return ki;nr=1;var t=$s(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function i(n){return!!e&&e in n}return ki=i,ki}var Li,rr;function _o(){if(rr)return Li;rr=1;var t=Function.prototype,e=t.toString;function i(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Li=i,Li}var Pi,or;function Vs(){if(or)return Pi;or=1;var t=yo(),e=Hs(),i=Wt(),n=_o(),r=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!i(p)||e(p))return!1;var d=t(p)?u:o;return d.test(n(p))}return Pi=h,Pi}var Mi,sr;function Ws(){if(sr)return Mi;sr=1;function t(e,i){return e==null?void 0:e[i]}return Mi=t,Mi}var Ni,ar;function yt(){if(ar)return Ni;ar=1;var t=Vs(),e=Ws();function i(n,r){var o=e(n,r);return t(o)?o:void 0}return Ni=i,Ni}var Fi,lr;function Ks(){if(lr)return Fi;lr=1;var t=yt(),e=Te(),i=t(e,"DataView");return Fi=i,Fi}var Ri,cr;function Gs(){if(cr)return Ri;cr=1;var t=yt(),e=Te(),i=t(e,"Map");return Ri=i,Ri}var ji,ur;function Ys(){if(ur)return ji;ur=1;var t=yt(),e=Te(),i=t(e,"Promise");return ji=i,ji}var Bi,hr;function Us(){if(hr)return Bi;hr=1;var t=yt(),e=Te(),i=t(e,"Set");return Bi=i,Bi}var qi,dr;function Xs(){if(dr)return qi;dr=1;var t=yt(),e=Te(),i=t(e,"WeakMap");return qi=i,qi}var $i,fr;function zs(){if(fr)return $i;fr=1;var t=Ks(),e=Gs(),i=Ys(),n=Us(),r=Xs(),o=mt(),s=_o(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",h="[object WeakMap]",p="[object DataView]",d=s(t),f=s(e),m=s(i),b=s(n),v=s(r),y=o;return(t&&y(new t(new ArrayBuffer(1)))!=p||e&&y(new e)!=a||i&&y(i.resolve())!=c||n&&y(new n)!=u||r&&y(new r)!=h)&&(y=function(_){var S=o(_),k=S==l?_.constructor:void 0,N=k?s(k):"";if(N)switch(N){case d:return p;case f:return a;case m:return c;case b:return u;case v:return h}return S}),$i=y,$i}var Hi,pr;function Js(){if(pr)return Hi;pr=1;var t=mt(),e=Kt(),i="[object Arguments]";function n(r){return e(r)&&t(r)==i}return Hi=n,Hi}var Vi,mr;function Qs(){if(mr)return Vi;mr=1;var t=Js(),e=Kt(),i=Object.prototype,n=i.hasOwnProperty,r=i.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!r.call(s,"callee")};return Vi=o,Vi}var Wi,gr;function Zs(){if(gr)return Wi;gr=1;var t=Array.isArray;return Wi=t,Wi}var Ki,vr;function wo(){if(vr)return Ki;vr=1;var t=9007199254740991;function e(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=t}return Ki=e,Ki}var Gi,br;function ea(){if(br)return Gi;br=1;var t=yo(),e=wo();function i(n){return n!=null&&e(n.length)&&!t(n)}return Gi=i,Gi}var ot={exports:{}},Yi,yr;function ta(){if(yr)return Yi;yr=1;function t(){return!1}return Yi=t,Yi}ot.exports;var _r;function ia(){return _r||(_r=1,function(t,e){var i=Te(),n=ta(),r=e&&!e.nodeType&&e,o=r&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s?i.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;t.exports=c}(ot,ot.exports)),ot.exports}var Ui,wr;function na(){if(wr)return Ui;wr=1;var t=mt(),e=wo(),i=Kt(),n="[object Arguments]",r="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",h="[object Object]",p="[object RegExp]",d="[object Set]",f="[object String]",m="[object WeakMap]",b="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",N="[object Int32Array]",P="[object Uint8Array]",F="[object Uint8ClampedArray]",M="[object Uint16Array]",G="[object Uint32Array]",T={};T[y]=T[_]=T[S]=T[k]=T[N]=T[P]=T[F]=T[M]=T[G]=!0,T[n]=T[r]=T[b]=T[o]=T[v]=T[s]=T[a]=T[l]=T[c]=T[u]=T[h]=T[p]=T[d]=T[f]=T[m]=!1;function q(x){return i(x)&&e(x.length)&&!!T[t(x)]}return Ui=q,Ui}var Xi,Er;function ra(){if(Er)return Xi;Er=1;function t(e){return function(i){return e(i)}}return Xi=t,Xi}var st={exports:{}};st.exports;var Sr;function oa(){return Sr||(Sr=1,function(t,e){var i=Jr(),n=e&&!e.nodeType&&e,r=n&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===n,s=o&&i.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a}(st,st.exports)),st.exports}var zi,Cr;function sa(){if(Cr)return zi;Cr=1;var t=na(),e=ra(),i=oa(),n=i&&i.isTypedArray,r=n?e(n):t;return zi=r,zi}var Ji,Ar;function aa(){if(Ar)return Ji;Ar=1;var t=qs(),e=zs(),i=Qs(),n=Zs(),r=ea(),o=ia(),s=bo(),a=sa(),l="[object Map]",c="[object Set]",u=Object.prototype,h=u.hasOwnProperty;function p(d){if(d==null)return!0;if(r(d)&&(n(d)||typeof d=="string"||typeof d.splice=="function"||o(d)||a(d)||i(d)))return!d.length;var f=e(d);if(f==l||f==c)return!d.size;if(s(d))return!t(d).length;for(var m in d)if(h.call(d,m))return!1;return!0}return Ji=p,Ji}var la=aa();const ca=zr(la);class ua{constructor(e=document){this.container=e,this.bulkActionsContainerSelector="[data-bulk-actions-container]",this.bulkActionsCounterAttribute="data-bulk-actions-counter",this.parentCheckboxSelector="[data-bulk-all-checkbox]",this.itemCheckboxSelector="[data-bulk-item-checkbox]",this.bulkActionItemFieldSelector="[data-bulk-action-item-field]",this.bulkActionsContainer=e.querySelector(this.bulkActionsContainerSelector),this.bulkActionsContainer&&(this.bulkActionsCounter=this.bulkActionsContainer.querySelector(`[${this.bulkActionsCounterAttribute}]`),this.bulkActionsCounter&&(this.parentCheckbox=e.querySelector(this.parentCheckboxSelector),this.itemCheckboxes=Array.from(e.querySelectorAll(this.itemCheckboxSelector)),this.bulkActionItemFields=Array.from(e.querySelectorAll(this.bulkActionItemFieldSelector)),!(!this.parentCheckbox||ca(this.itemCheckboxes))&&this._init()))}_init(){this.parentCheckbox.addEventListener("change",()=>{this._updateItemCheckboxes();const e=this._getBulkActionsCount();this._updateBulkActionsCounter(e),this._syncBulkItemsFields()}),this.itemCheckboxes.forEach(e=>{e.addEventListener("change",()=>{this._updateParentCheckbox(),this.constructor._updateItemRowStyle(e);const i=this._getBulkActionsCount();this._updateBulkActionsCounter(i),this._syncBulkItemsFields()})})}_updateItemCheckboxes(){this.itemCheckboxes.forEach(e=>{e.checked=this.parentCheckbox.checked,this.constructor._updateItemRowStyle(e)})}_updateParentCheckbox(){if(this.itemCheckboxes.every(e=>e.checked)){this.parentCheckbox.indeterminate=!1,this.parentCheckbox.checked=!0;return}if(!this.itemCheckboxes.some(e=>e.checked)){this.parentCheckbox.indeterminate=!1,this.parentCheckbox.checked=!1;return}this.parentCheckbox.indeterminate=!0}static _updateItemRowStyle(e){const i=e.closest("[data-table-row]"),n="bg-primary-50";if(e.checked){i.classList.add(n);return}i.classList.remove(n)}_getBulkActionsCount(){let e=0;for(let i=0;i<this.itemCheckboxes.length;i++)this.itemCheckboxes[i].checked&&e++;return e}_updateBulkActionsCounter(e){this._toggleBulkActionsContainer(e),this.bulkActionsCounter.innerHTML=e,this.bulkActionsCounter.setAttribute(this.bulkActionsCounterAttribute,e)}_toggleBulkActionsContainer(e){if(e>0){this.bulkActionsContainer.classList.remove("hidden");return}this.bulkActionsContainer.classList.add("hidden")}_syncBulkItemsFields(){const e=this._getSelectedValues();this.bulkActionItemFields.forEach(i=>{i.value=JSON.stringify(e)})}_getSelectedValues(){return this.itemCheckboxes.filter(e=>e.checked).map(e=>e.value)}}const ha=(t="[data-table-container]")=>{Array.from(document.querySelectorAll(t)).forEach(i=>{new ua(i)})},da=t=>({showCheckboxes:t.showCheckboxes||!1,selection:t.selection||[],paginators:t.paginators||[],pageItems:[],isAllSelectedOnPage:!1,isIndeterminateOnPage:!1,hasSelectionAcrossPages:!1,init(){this.$refs.tableHeaderCheckbox&&(this.$refs.tableHeaderCheckbox.addEventListener("change",e=>{if(e.target.checked){const i=document.querySelectorAll("[data-table-row-checkbox]");this.selection=[...this.selection,...Array.from(i).map(n=>n.value)].filter((n,r,o)=>o.indexOf(n)===r)}else this.selection=this.selection.filter(i=>!this.pageItems.some(n=>n.toString()===i.toString()))}),this.$watch("selection",()=>{this.$nextTick(()=>{this.evaluateHeaderCheckboxState(),this.evaluateSelectionAcrossPages()})}),this.$watch("isIndeterminateOnPage",e=>{this.$refs.tableHeaderCheckbox.indeterminate=e}),this.$watch("isAllSelectedOnPage",e=>{this.$refs.tableHeaderCheckbox.checked=e}),this.$watch("paginators",()=>{this.$nextTick(()=>{this.setPageItems(),this.evaluateHeaderCheckboxState()})}),this.$nextTick(()=>{this.setPageItems(),this.evaluateHeaderCheckboxState()}))},getPageItems(){return this.pageItems},setPageItems(){this.pageItems=Array.from(this.$el.querySelectorAll("[data-table-row-checkbox]")).map(e=>e.value)},getSelectedPageItems(){return this.pageItems.filter(e=>this.selection.some(i=>i.toString()===e.toString()))},evaluateHeaderCheckboxState(){const e=this.getPageItems(),i=this.getSelectedPageItems();this.selection.length<1?(this.isAllSelectedOnPage=!1,this.isIndeterminateOnPage=!1,this.$refs.tableHeaderCheckbox.checked=!1):(this.isAllSelectedOnPage=e.length>0&&!!e.every(n=>this.selection.some(r=>r.toString()===n.toString())),this.isIndeterminateOnPage=!(i.length===e.length||i.length===0))},evaluateSelectionAcrossPages(){const e=this.getSelectedPageItems();this.hasSelectionAcrossPages=this.selection.length>0&&e.length!==this.selection.length}}),fa=()=>({init(){this.$nextTick(()=>{this.moveLastFilterToDrawer()}),window.addEventListener("resize",()=>{this.moveLastFilterToDrawer()})},getContentWidth(t){const e=window.getComputedStyle(t),i=parseFloat(e.paddingLeft),n=parseFloat(e.paddingRight);return t.offsetWidth-i-n},moveLastFilterToDrawer(){const t=this.getContentWidth(document.getElementById("table-container-header")),e=this.getContentWidth(this.$el),i=this.getContentWidth(document.getElementById("table-container-header-sorters"));if(e>t-i-64){const n=Array.from(document.querySelectorAll("[data-filter-key]")),r=n[n.length-1];this.$wire.setFilterAsTertiary(r.getAttribute("data-filter-key")),r.remove(),this.moveLastFilterToDrawer()}}});document.addEventListener("DOMContentLoaded",()=>{ha()});window.Alpine.data("bulkselect",da);window.Alpine.data("tableFilters",fa);const pa=()=>({init(){this.repositionTabMarker(),this.onVisible(this.$root,()=>{this.$nextTick(()=>{this.repositionTabMarker()})})},repositionTabMarker(){this.$nextTick(()=>{const t=Array.from(this.$refs.buttons.children).find(e=>e.getAttribute("aria-selected")==="true");t&&(this.$refs.tabMarker.style.width=`${t.offsetWidth}px`,this.$refs.tabMarker.style.left=`${t.offsetLeft}px`)})},onVisible(t,e){new IntersectionObserver((i,n)=>{i.forEach(r=>{r.intersectionRatio>0&&(e(t),n.disconnect())})}).observe(t)}}),ma=(t,{expression:e},{evaluate:i})=>{const n=i(e);t.addEventListener("click",()=>{navigator.clipboard.writeText(n.content),n.successContent&&window.dispatchEvent(new CustomEvent("create-notification",{detail:{type:"success",content:n.successContent,duration:5e3}}))})},ga=t=>({isOpen:t.isOpen,wired:t.wired,init(){window.addEventListener("open-dialog",e=>{const i=this.$el.firstElementChild;if(!i)throw new Error("Dialog component should be wired or must have a child element with an id attribute.");i.id===e.detail.id&&(this.open(),this.$dispatch("dialog-opened",{id:e.detail.id,el:this.$el,trigger:e.target}))}),window.addEventListener("close-dialog",e=>{const i=this.$el.firstElementChild;if(!i)throw new Error("Dialog component should be wired or must have a child element with an id attribute.");i.id===e.detail.id&&(this.close(),this.$dispatch("dialog-closed",{id:e.detail.id,el:this.$el,trigger:e.target}))})},open(){this.isOpen=!0},close(){this.wired?this.$wire.close():this.isOpen=!1}}),Bt=Math.min,qe=Math.max,qt=Math.round,Tt=Math.floor,be=t=>({x:t,y:t}),va={left:"right",right:"left",bottom:"top",top:"bottom"},ba={start:"end",end:"start"};function Tr(t,e,i){return qe(t,Bt(e,i))}function Xt(t,e){return typeof t=="function"?t(e):t}function $e(t){return t.split("-")[0]}function zt(t){return t.split("-")[1]}function Eo(t){return t==="x"?"y":"x"}function So(t){return t==="y"?"height":"width"}const ya=new Set(["top","bottom"]);function ke(t){return ya.has($e(t))?"y":"x"}function Co(t){return Eo(ke(t))}function _a(t,e,i){i===void 0&&(i=!1);const n=zt(t),r=Co(t),o=So(r);let s=r==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=$t(s)),[s,$t(s)]}function wa(t){const e=$t(t);return[an(t),e,an(e)]}function an(t){return t.replace(/start|end/g,e=>ba[e])}const Ir=["left","right"],xr=["right","left"],Ea=["top","bottom"],Sa=["bottom","top"];function Ca(t,e,i){switch(t){case"top":case"bottom":return i?e?xr:Ir:e?Ir:xr;case"left":case"right":return e?Ea:Sa;default:return[]}}function Aa(t,e,i,n){const r=zt(t);let o=Ca($e(t),i==="start",n);return r&&(o=o.map(s=>s+"-"+r),e&&(o=o.concat(o.map(an)))),o}function $t(t){return t.replace(/left|right|bottom|top/g,e=>va[e])}function Ta(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ia(t){return typeof t!="number"?Ta(t):{top:t,right:t,bottom:t,left:t}}function Ht(t){const{x:e,y:i,width:n,height:r}=t;return{width:n,height:r,top:i,left:e,right:e+n,bottom:i+r,x:e,y:i}}function Or(t,e,i){let{reference:n,floating:r}=t;const o=ke(e),s=Co(e),a=So(s),l=$e(e),c=o==="y",u=n.x+n.width/2-r.width/2,h=n.y+n.height/2-r.height/2,p=n[a]/2-r[a]/2;let d;switch(l){case"top":d={x:u,y:n.y-r.height};break;case"bottom":d={x:u,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:h};break;case"left":d={x:n.x-r.width,y:h};break;default:d={x:n.x,y:n.y}}switch(zt(e)){case"start":d[s]-=p*(i&&c?-1:1);break;case"end":d[s]+=p*(i&&c?-1:1);break}return d}const xa=async(t,e,i)=>{const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:s}=i,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:h}=Or(c,n,l),p=n,d={},f=0;for(let m=0;m<a.length;m++){const{name:b,fn:v}=a[m],{x:y,y:_,data:S,reset:k}=await v({x:u,y:h,initialPlacement:n,placement:p,strategy:r,middlewareData:d,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,h=_??h,d={...d,[b]:{...d[b],...S}},k&&f<=50&&(f++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(c=k.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):k.rects),{x:u,y:h}=Or(c,p,l)),m=-1)}return{x:u,y:h,placement:p,strategy:r,middlewareData:d}};async function Ao(t,e){var i;e===void 0&&(e={});const{x:n,y:r,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:d=0}=Xt(e,t),f=Ia(d),b=a[p?h==="floating"?"reference":"floating":h],v=Ht(await o.getClippingRect({element:(i=await(o.isElement==null?void 0:o.isElement(b)))==null||i?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:n,y:r,width:s.floating.width,height:s.floating.height}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},k=Ht(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(v.top-k.top+f.top)/S.y,bottom:(k.bottom-v.bottom+f.bottom)/S.y,left:(v.left-k.left+f.left)/S.x,right:(k.right-v.right+f.right)/S.x}}const Oa=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var i,n;const{placement:r,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...b}=Xt(t,e);if((i=o.arrow)!=null&&i.alignmentOffset)return{};const v=$e(r),y=ke(a),_=$e(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=p||(_||!m?[$t(a)]:wa(a)),N=f!=="none";!p&&N&&k.push(...Aa(a,m,f,S));const P=[a,...k],F=await Ao(e,b),M=[];let G=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&M.push(F[v]),h){const O=_a(r,s,S);M.push(F[O[0]],F[O[1]])}if(G=[...G,{placement:r,overflows:M}],!M.every(O=>O<=0)){var T,q;const O=(((T=o.flip)==null?void 0:T.index)||0)+1,H=P[O];if(H&&(!(h==="alignment"?y!==ke(H):!1)||G.every(Y=>ke(Y.placement)===y?Y.overflows[0]>0:!0)))return{data:{index:O,overflows:G},reset:{placement:H}};let V=(q=G.filter(ae=>ae.overflows[0]<=0).sort((ae,Y)=>ae.overflows[1]-Y.overflows[1])[0])==null?void 0:q.placement;if(!V)switch(d){case"bestFit":{var x;const ae=(x=G.filter(Y=>{if(N){const fe=ke(Y.placement);return fe===y||fe==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(fe=>fe>0).reduce((fe,Tn)=>fe+Tn,0)]).sort((Y,fe)=>Y[1]-fe[1])[0])==null?void 0:x[0];ae&&(V=ae);break}case"initialPlacement":V=a;break}if(r!==V)return{reset:{placement:V}}}return{}}}},Da=new Set(["left","top"]);async function ka(t,e){const{placement:i,platform:n,elements:r}=t,o=await(n.isRTL==null?void 0:n.isRTL(r.floating)),s=$e(i),a=zt(i),l=ke(i)==="y",c=Da.has(s)?-1:1,u=o&&l?-1:1,h=Xt(e,t);let{mainAxis:p,crossAxis:d,alignmentAxis:f}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof f=="number"&&(d=a==="end"?f*-1:f),l?{x:d*u,y:p*c}:{x:p*c,y:d*u}}const La=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var i,n;const{x:r,y:o,placement:s,middlewareData:a}=e,l=await ka(e,t);return s===((i=a.offset)==null?void 0:i.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:o+l.y,data:{...l,placement:s}}}}},Pa=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:n,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...l}=Xt(t,e),c={x:i,y:n},u=await Ao(e,l),h=ke($e(r)),p=Eo(h);let d=c[p],f=c[h];if(o){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=d+u[b],_=d-u[v];d=Tr(y,d,_)}if(s){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=f+u[b],_=f-u[v];f=Tr(y,f,_)}const m=a.fn({...e,[p]:d,[h]:f});return{...m,data:{x:m.x-i,y:m.y-n,enabled:{[p]:o,[h]:s}}}}}};function Jt(){return typeof window<"u"}function Qe(t){return To(t)?(t.nodeName||"").toLowerCase():"#document"}function se(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function we(t){var e;return(e=(To(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function To(t){return Jt()?t instanceof Node||t instanceof se(t).Node:!1}function he(t){return Jt()?t instanceof Element||t instanceof se(t).Element:!1}function _e(t){return Jt()?t instanceof HTMLElement||t instanceof se(t).HTMLElement:!1}function Dr(t){return!Jt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof se(t).ShadowRoot}const Ma=new Set(["inline","contents"]);function _t(t){const{overflow:e,overflowX:i,overflowY:n,display:r}=de(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!Ma.has(r)}const Na=new Set(["table","td","th"]);function Fa(t){return Na.has(Qe(t))}const Ra=[":popover-open",":modal"];function Qt(t){return Ra.some(e=>{try{return t.matches(e)}catch{return!1}})}const ja=["transform","translate","scale","rotate","perspective"],Ba=["transform","translate","scale","rotate","perspective","filter"],qa=["paint","layout","strict","content"];function _n(t){const e=wn(),i=he(t)?de(t):t;return ja.some(n=>i[n]?i[n]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||Ba.some(n=>(i.willChange||"").includes(n))||qa.some(n=>(i.contain||"").includes(n))}function $a(t){let e=Pe(t);for(;_e(e)&&!Je(e);){if(_n(e))return e;if(Qt(e))return null;e=Pe(e)}return null}function wn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ha=new Set(["html","body","#document"]);function Je(t){return Ha.has(Qe(t))}function de(t){return se(t).getComputedStyle(t)}function Zt(t){return he(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pe(t){if(Qe(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Dr(t)&&t.host||we(t);return Dr(e)?e.host:e}function Io(t){const e=Pe(t);return Je(e)?t.ownerDocument?t.ownerDocument.body:t.body:_e(e)&&_t(e)?e:Io(e)}function pt(t,e,i){var n;e===void 0&&(e=[]),i===void 0&&(i=!0);const r=Io(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),s=se(r);if(o){const a=ln(s);return e.concat(s,s.visualViewport||[],_t(r)?r:[],a&&i?pt(a):[])}return e.concat(r,pt(r,[],i))}function ln(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xo(t){const e=de(t);let i=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=_e(t),o=r?t.offsetWidth:i,s=r?t.offsetHeight:n,a=qt(i)!==o||qt(n)!==s;return a&&(i=o,n=s),{width:i,height:n,$:a}}function En(t){return he(t)?t:t.contextElement}function Xe(t){const e=En(t);if(!_e(e))return be(1);const i=e.getBoundingClientRect(),{width:n,height:r,$:o}=xo(e);let s=(o?qt(i.width):i.width)/n,a=(o?qt(i.height):i.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Va=be(0);function Oo(t){const e=se(t);return!wn()||!e.visualViewport?Va:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Wa(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==se(t)?!1:e}function He(t,e,i,n){e===void 0&&(e=!1),i===void 0&&(i=!1);const r=t.getBoundingClientRect(),o=En(t);let s=be(1);e&&(n?he(n)&&(s=Xe(n)):s=Xe(t));const a=Wa(o,i,n)?Oo(o):be(0);let l=(r.left+a.x)/s.x,c=(r.top+a.y)/s.y,u=r.width/s.x,h=r.height/s.y;if(o){const p=se(o),d=n&&he(n)?se(n):n;let f=p,m=ln(f);for(;m&&n&&d!==f;){const b=Xe(m),v=m.getBoundingClientRect(),y=de(m),_=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*b.x,S=v.top+(m.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,h*=b.y,l+=_,c+=S,f=se(m),m=ln(f)}}return Ht({width:u,height:h,x:l,y:c})}function Sn(t,e){const i=Zt(t).scrollLeft;return e?e.left+i:He(we(t)).left+i}function Do(t,e,i){i===void 0&&(i=!1);const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-(i?0:Sn(t,n)),o=n.top+e.scrollTop;return{x:r,y:o}}function Ka(t){let{elements:e,rect:i,offsetParent:n,strategy:r}=t;const o=r==="fixed",s=we(n),a=e?Qt(e.floating):!1;if(n===s||a&&o)return i;let l={scrollLeft:0,scrollTop:0},c=be(1);const u=be(0),h=_e(n);if((h||!h&&!o)&&((Qe(n)!=="body"||_t(s))&&(l=Zt(n)),_e(n))){const d=He(n);c=Xe(n),u.x=d.x+n.clientLeft,u.y=d.y+n.clientTop}const p=s&&!h&&!o?Do(s,l,!0):be(0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:i.y*c.y-l.scrollTop*c.y+u.y+p.y}}function Ga(t){return Array.from(t.getClientRects())}function Ya(t){const e=we(t),i=Zt(t),n=t.ownerDocument.body,r=qe(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=qe(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-i.scrollLeft+Sn(t);const a=-i.scrollTop;return de(n).direction==="rtl"&&(s+=qe(e.clientWidth,n.clientWidth)-r),{width:r,height:o,x:s,y:a}}function Ua(t,e){const i=se(t),n=we(t),r=i.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;const c=wn();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a,y:l}}const Xa=new Set(["absolute","fixed"]);function za(t,e){const i=He(t,!0,e==="fixed"),n=i.top+t.clientTop,r=i.left+t.clientLeft,o=_e(t)?Xe(t):be(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=r*o.x,c=n*o.y;return{width:s,height:a,x:l,y:c}}function kr(t,e,i){let n;if(e==="viewport")n=Ua(t,i);else if(e==="document")n=Ya(we(t));else if(he(e))n=za(e,i);else{const r=Oo(t);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Ht(n)}function ko(t,e){const i=Pe(t);return i===e||!he(i)||Je(i)?!1:de(i).position==="fixed"||ko(i,e)}function Ja(t,e){const i=e.get(t);if(i)return i;let n=pt(t,[],!1).filter(a=>he(a)&&Qe(a)!=="body"),r=null;const o=de(t).position==="fixed";let s=o?Pe(t):t;for(;he(s)&&!Je(s);){const a=de(s),l=_n(s);!l&&a.position==="fixed"&&(r=null),(o?!l&&!r:!l&&a.position==="static"&&!!r&&Xa.has(r.position)||_t(s)&&!l&&ko(t,s))?n=n.filter(u=>u!==s):r=a,s=Pe(s)}return e.set(t,n),n}function Qa(t){let{element:e,boundary:i,rootBoundary:n,strategy:r}=t;const s=[...i==="clippingAncestors"?Qt(e)?[]:Ja(e,this._c):[].concat(i),n],a=s[0],l=s.reduce((c,u)=>{const h=kr(e,u,r);return c.top=qe(h.top,c.top),c.right=Bt(h.right,c.right),c.bottom=Bt(h.bottom,c.bottom),c.left=qe(h.left,c.left),c},kr(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Za(t){const{width:e,height:i}=xo(t);return{width:e,height:i}}function el(t,e,i){const n=_e(e),r=we(e),o=i==="fixed",s=He(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=be(0);function c(){l.x=Sn(r)}if(n||!n&&!o)if((Qe(e)!=="body"||_t(r))&&(a=Zt(e)),n){const d=He(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else r&&c();o&&!n&&r&&c();const u=r&&!n&&!o?Do(r,a):be(0),h=s.left+a.scrollLeft-l.x-u.x,p=s.top+a.scrollTop-l.y-u.y;return{x:h,y:p,width:s.width,height:s.height}}function Qi(t){return de(t).position==="static"}function Lr(t,e){if(!_e(t)||de(t).position==="fixed")return null;if(e)return e(t);let i=t.offsetParent;return we(t)===i&&(i=i.ownerDocument.body),i}function Lo(t,e){const i=se(t);if(Qt(t))return i;if(!_e(t)){let r=Pe(t);for(;r&&!Je(r);){if(he(r)&&!Qi(r))return r;r=Pe(r)}return i}let n=Lr(t,e);for(;n&&Fa(n)&&Qi(n);)n=Lr(n,e);return n&&Je(n)&&Qi(n)&&!_n(n)?i:n||$a(t)||i}const tl=async function(t){const e=this.getOffsetParent||Lo,i=this.getDimensions,n=await i(t.floating);return{reference:el(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function il(t){return de(t).direction==="rtl"}const nl={convertOffsetParentRelativeRectToViewportRelativeRect:Ka,getDocumentElement:we,getClippingRect:Qa,getOffsetParent:Lo,getElementRects:tl,getClientRects:Ga,getDimensions:Za,getScale:Xe,isElement:he,isRTL:il};function Po(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rl(t,e){let i=null,n;const r=we(t);function o(){var a;clearTimeout(n),(a=i)==null||a.disconnect(),i=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:h,width:p,height:d}=c;if(a||e(),!p||!d)return;const f=Tt(h),m=Tt(r.clientWidth-(u+p)),b=Tt(r.clientHeight-(h+d)),v=Tt(u),_={rootMargin:-f+"px "+-m+"px "+-b+"px "+-v+"px",threshold:qe(0,Bt(1,l))||1};let S=!0;function k(N){const P=N[0].intersectionRatio;if(P!==l){if(!S)return s();P?s(!1,P):n=setTimeout(()=>{s(!1,1e-7)},1e3)}P===1&&!Po(c,t.getBoundingClientRect())&&s(),S=!1}try{i=new IntersectionObserver(k,{..._,root:r.ownerDocument})}catch{i=new IntersectionObserver(k,_)}i.observe(t)}return s(!0),o}function ol(t,e,i,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=En(t),u=r||o?[...c?pt(c):[],...pt(e)]:[];u.forEach(v=>{r&&v.addEventListener("scroll",i,{passive:!0}),o&&v.addEventListener("resize",i)});const h=c&&a?rl(c,i):null;let p=-1,d=null;s&&(d=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=d)==null||_.observe(e)})),i()}),c&&!l&&d.observe(c),d.observe(e));let f,m=l?He(t):null;l&&b();function b(){const v=He(t);m&&!Po(m,v)&&i(),m=v,f=requestAnimationFrame(b)}return i(),()=>{var v;u.forEach(y=>{r&&y.removeEventListener("scroll",i),o&&y.removeEventListener("resize",i)}),h==null||h(),(v=d)==null||v.disconnect(),d=null,l&&cancelAnimationFrame(f)}}const sl=La,al=Pa,ll=Oa,cl=(t,e,i)=>{const n=new Map,r={platform:nl,...i},o={...r.platform,_c:n};return xa(t,e,{...r,platform:o})},ul=t=>({placement:t.placement,offset:t.offset,init(){window.addEventListener("dialog-opened",e=>{this.$el.id===e.detail.id&&this.create(e.detail.trigger)})},create(e){ol(e,this.$el,()=>{cl(e,this.$el,{placement:this.placement,middleware:[sl(this.offset),ll(),al({padding:8})]}).then(({x:i,y:n})=>{Object.assign(this.$el.style,{left:`${i}px`,top:`${n}px`})})})}});/*! choices.js v11.1.0 | © 2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */var cn=function(t,e){return cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},cn(t,e)};function Mo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cn(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var te=function(){return te=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},te.apply(this,arguments)};function hl(t,e,i){for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var $={ADD_CHOICE:"ADD_CHOICE",REMOVE_CHOICE:"REMOVE_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM"},ee={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},J={TAB_KEY:9,SHIFT_KEY:16,BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},dl=["fuseOptions","classNames"],Le={Text:"text",SelectOne:"select-one",SelectMultiple:"select-multiple"},Pr=function(t){return{type:$.ADD_CHOICE,choice:t}},fl=function(t){return{type:$.REMOVE_CHOICE,choice:t}},pl=function(t){return{type:$.FILTER_CHOICES,results:t}},ml=function(t){return{type:$.ACTIVATE_CHOICES,active:t}},gl=function(t){return{type:$.ADD_GROUP,group:t}},Mr=function(t){return{type:$.ADD_ITEM,item:t}},Nr=function(t){return{type:$.REMOVE_ITEM,item:t}},It=function(t,e){return{type:$.HIGHLIGHT_ITEM,item:t,highlighted:e}},vl=function(t,e){return Math.floor(Math.random()*(e-t)+t)},Fr=function(t){return Array.from({length:t},function(){return vl(0,36).toString(36)}).join("")},bl=function(t,e){var i=t.id||t.name&&"".concat(t.name,"-").concat(Fr(2))||Fr(4);return i=i.replace(/(:|\.|\[|\]|,)/g,""),i="".concat(e,"-").concat(i),i},yl=function(t,e,i){i===void 0&&(i=1);for(var n="".concat(i>0?"next":"previous","ElementSibling"),r=t[n];r;){if(r.matches(e))return r;r=r[n]}return null},_l=function(t,e,i){i===void 0&&(i=1);var n;return i>0?n=e.scrollTop+e.offsetHeight>=t.offsetTop+t.offsetHeight:n=t.offsetTop>=e.scrollTop,n},ei=function(t){if(typeof t!="string"){if(t==null)return"";if(typeof t=="object"){if("raw"in t)return ei(t.raw);if("trusted"in t)return t.trusted}return t}return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},wl=function(){var t=document.createElement("div");return function(e){t.innerHTML=e.trim();for(var i=t.children[0];t.firstChild;)t.removeChild(t.firstChild);return i}}(),ft=function(t,e){return typeof t=="function"?t(ei(e),e):t},Rr=function(t){return typeof t=="function"?t():t},Be=function(t){if(typeof t=="string")return t;if(typeof t=="object"){if("trusted"in t)return t.trusted;if("raw"in t)return t.raw}return""},No=function(t){if(typeof t=="string")return t;if(typeof t=="object"){if("escaped"in t)return t.escaped;if("trusted"in t)return t.trusted}return""},Cn=function(t,e){return t?No(e):ei(e)},Ee=function(t,e,i){t.innerHTML=Cn(e,i)},El=function(t,e){var i=t.value,n=t.label,r=n===void 0?i:n,o=e.value,s=e.label,a=s===void 0?o:s;return Be(r).localeCompare(Be(a),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},Sl=function(t,e){return t.rank-e.rank},Cl=function(t,e,i){i===void 0&&(i=null);var n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0});return t.dispatchEvent(n)},Al=function(t,e){var i=Object.keys(t).sort(),n=Object.keys(e).sort();return i.filter(function(r){return n.indexOf(r)<0})},ti=function(t){return Array.isArray(t)?t:[t]},et=function(t){return t&&Array.isArray(t)?t.map(function(e){return".".concat(e)}).join(""):".".concat(t)},I=function(t,e){var i;(i=t.classList).add.apply(i,ti(e))},me=function(t,e){var i;(i=t.classList).remove.apply(i,ti(e))},Tl=function(t){if(typeof t<"u")try{return JSON.parse(t)}catch{return t}return{}},Il=function(t,e,i){var n=t.itemEl;n&&(me(n,i),I(n,e))},xl=function(){function t(e){var i=e.element,n=e.type,r=e.classNames;this.element=i,this.classNames=r,this.type=n,this.isActive=!1}return t.prototype.show=function(){return I(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},t.prototype.hide=function(){return me(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},t}(),jr=function(){function t(e){var i=e.element,n=e.type,r=e.classNames,o=e.position;this.element=i,this.classNames=r,this.type=n,this.position=o,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return t.prototype.shouldFlip=function(e,i){var n=!1;return this.position==="auto"?n=this.element.getBoundingClientRect().top-i>=0&&!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:this.position==="top"&&(n=!0),n},t.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},t.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.prototype.open=function(e,i){I(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e,i)&&(I(this.element,this.classNames.flippedState),this.isFlipped=!0)},t.prototype.close=function(){me(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(me(this.element,this.classNames.flippedState),this.isFlipped=!1)},t.prototype.addFocusState=function(){I(this.element,this.classNames.focusState)},t.prototype.removeFocusState=function(){me(this.element,this.classNames.focusState)},t.prototype.enable=function(){me(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===Le.SelectOne&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},t.prototype.disable=function(){I(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===Le.SelectOne&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},t.prototype.wrap=function(e){var i=this.element,n=e.parentNode;n&&(e.nextSibling?n.insertBefore(i,e.nextSibling):n.appendChild(i)),i.appendChild(e)},t.prototype.unwrap=function(e){var i=this.element,n=i.parentNode;n&&(n.insertBefore(e,i),n.removeChild(i))},t.prototype.addLoadingState=function(){I(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},t.prototype.removeLoadingState=function(){me(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},t}(),Ol=function(){function t(e){var i=e.element,n=e.type,r=e.classNames,o=e.preventPaste;this.element=i,this.type=n,this.classNames=r,this.preventPaste=o,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=i.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(t.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),t.prototype.addEventListeners=function(){var e=this.element;e.addEventListener("paste",this._onPaste),e.addEventListener("input",this._onInput,{passive:!0}),e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})},t.prototype.removeEventListeners=function(){var e=this.element;e.removeEventListener("input",this._onInput),e.removeEventListener("paste",this._onPaste),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)},t.prototype.enable=function(){var e=this.element;e.removeAttribute("disabled"),this.isDisabled=!1},t.prototype.disable=function(){var e=this.element;e.setAttribute("disabled",""),this.isDisabled=!0},t.prototype.focus=function(){this.isFocussed||this.element.focus()},t.prototype.blur=function(){this.isFocussed&&this.element.blur()},t.prototype.clear=function(e){return e===void 0&&(e=!0),this.element.value="",e&&this.setWidth(),this},t.prototype.setWidth=function(){var e=this.element;e.style.minWidth="".concat(e.placeholder.length+1,"ch"),e.style.width="".concat(e.value.length+1,"ch")},t.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},t.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.prototype._onInput=function(){this.type!==Le.SelectOne&&this.setWidth()},t.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},t.prototype._onFocus=function(){this.isFocussed=!0},t.prototype._onBlur=function(){this.isFocussed=!1},t}(),Dl=4,Br=function(){function t(e){var i=e.element;this.element=i,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return t.prototype.prepend=function(e){var i=this.element.firstElementChild;i?this.element.insertBefore(e,i):this.element.append(e)},t.prototype.scrollToTop=function(){this.element.scrollTop=0},t.prototype.scrollToChildElement=function(e,i){var n=this;if(e){var r=this.element.offsetHeight,o=this.element.scrollTop+r,s=e.offsetHeight,a=e.offsetTop+s,l=i>0?this.element.scrollTop+a-o:e.offsetTop;requestAnimationFrame(function(){n._animateScroll(l,i)})}},t.prototype._scrollDown=function(e,i,n){var r=(n-e)/i,o=r>1?r:1;this.element.scrollTop=e+o},t.prototype._scrollUp=function(e,i,n){var r=(e-n)/i,o=r>1?r:1;this.element.scrollTop=e-o},t.prototype._animateScroll=function(e,i){var n=this,r=Dl,o=this.element.scrollTop,s=!1;i>0?(this._scrollDown(o,r,e),o<e&&(s=!0)):(this._scrollUp(o,r,e),o>e&&(s=!0)),s&&requestAnimationFrame(function(){n._animateScroll(e,i)})},t}(),Fo=function(){function t(e){var i=e.element,n=e.classNames;this.element=i,this.classNames=n,this.isDisabled=!1}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),t.prototype.conceal=function(){var e=this.element;I(e,this.classNames.input),e.hidden=!0,e.tabIndex=-1;var i=e.getAttribute("style");i&&e.setAttribute("data-choice-orig-style",i),e.setAttribute("data-choice","active")},t.prototype.reveal=function(){var e=this.element;me(e,this.classNames.input),e.hidden=!1,e.removeAttribute("tabindex");var i=e.getAttribute("data-choice-orig-style");i?(e.removeAttribute("data-choice-orig-style"),e.setAttribute("style",i)):e.removeAttribute("style"),e.removeAttribute("data-choice")},t.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},t.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},t.prototype.triggerEvent=function(e,i){Cl(this.element,e,i||{})},t}(),kl=function(t){Mo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Fo),at=function(t,e){return e===void 0&&(e=!0),typeof t>"u"?e:!!t},Ro=function(t){if(typeof t=="string"&&(t=t.split(" ").filter(function(e){return e.length})),Array.isArray(t)&&t.length)return t},pe=function(t,e,i){if(i===void 0&&(i=!0),typeof t=="string"){var n=ei(t),r=i||n===t?t:{escaped:n,raw:t},o=pe({value:t,label:r,selected:!0},!1);return o}var s=t;if("choices"in s){if(!e)throw new TypeError("optGroup is not allowed");var a=s,l=a.choices.map(function(p){return pe(p,!1)}),c={id:0,label:Be(a.label)||a.value,active:!!l.length,disabled:!!a.disabled,choices:l};return c}var u=s,h={id:0,group:null,score:0,rank:0,value:u.value,label:u.label||u.value,active:at(u.active),selected:at(u.selected,!1),disabled:at(u.disabled,!1),placeholder:at(u.placeholder,!1),highlighted:!1,labelClass:Ro(u.labelClass),labelDescription:u.labelDescription,customProperties:u.customProperties};return h},Ll=function(t){return t.tagName==="INPUT"},jo=function(t){return t.tagName==="SELECT"},Pl=function(t){return t.tagName==="OPTION"},Ml=function(t){return t.tagName==="OPTGROUP"},Nl=function(t){Mo(e,t);function e(i){var n=i.element,r=i.classNames,o=i.template,s=i.extractPlaceholder,a=t.call(this,{element:n,classNames:r})||this;return a.template=o,a.extractPlaceholder=s,a}return Object.defineProperty(e.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),e.prototype.addOptions=function(i){var n=this,r=document.createDocumentFragment();i.forEach(function(o){var s=o;if(!s.element){var a=n.template(s);r.appendChild(a),s.element=a}}),this.element.appendChild(r)},e.prototype.optionsAsChoices=function(){var i=this,n=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(r){Pl(r)?n.push(i._optionToChoice(r)):Ml(r)&&n.push(i._optgroupToChoice(r))}),n},e.prototype._optionToChoice=function(i){return!i.hasAttribute("value")&&i.hasAttribute("placeholder")&&(i.setAttribute("value",""),i.value=""),{id:0,group:null,score:0,rank:0,value:i.value,label:i.label,element:i,active:!0,selected:this.extractPlaceholder?i.selected:i.hasAttribute("selected"),disabled:i.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!i.value||i.hasAttribute("placeholder")),labelClass:typeof i.dataset.labelClass<"u"?Ro(i.dataset.labelClass):void 0,labelDescription:typeof i.dataset.labelDescription<"u"?i.dataset.labelDescription:void 0,customProperties:Tl(i.dataset.customProperties)}},e.prototype._optgroupToChoice=function(i){var n=this,r=i.querySelectorAll("option"),o=Array.from(r).map(function(s){return n._optionToChoice(s)});return{id:0,label:i.label||"",element:i,active:!!o.length,disabled:i.disabled,choices:o}},e}(Fo),Fl={containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},qr={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(t){return!!t&&t!==""},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:El,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(t){return'Press Enter to add <b>"'.concat(t,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(t){return"Remove item: ".concat(t)},maxItemText:function(t){return"Only ".concat(t," values can be added")},valueComparer:function(t,e){return t===e},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:Fl,appendGroupInSearch:!1},$r=function(t){var e=t.itemEl;e&&(e.remove(),t.itemEl=void 0)};function Rl(t,e,i){var n=t,r=!0;switch(e.type){case $.ADD_ITEM:{e.item.selected=!0;var o=e.item.element;o&&(o.selected=!0,o.setAttribute("selected","")),n.push(e.item);break}case $.REMOVE_ITEM:{e.item.selected=!1;var o=e.item.element;if(o){o.selected=!1,o.removeAttribute("selected");var s=o.parentElement;s&&jo(s)&&s.type===Le.SelectOne&&(s.value="")}$r(e.item),n=n.filter(function(u){return u.id!==e.item.id});break}case $.REMOVE_CHOICE:{$r(e.choice),n=n.filter(function(c){return c.id!==e.choice.id});break}case $.HIGHLIGHT_ITEM:{var a=e.highlighted,l=n.find(function(c){return c.id===e.item.id});l&&l.highlighted!==a&&(l.highlighted=a,i&&Il(l,a?i.classNames.highlightedState:i.classNames.selectedState,a?i.classNames.selectedState:i.classNames.highlightedState));break}default:{r=!1;break}}return{state:n,update:r}}function jl(t,e){var i=t,n=!0;switch(e.type){case $.ADD_GROUP:{i.push(e.group);break}case $.CLEAR_CHOICES:{i=[];break}default:{n=!1;break}}return{state:i,update:n}}function Bl(t,e,i){var n=t,r=!0;switch(e.type){case $.ADD_CHOICE:{n.push(e.choice);break}case $.REMOVE_CHOICE:{e.choice.choiceEl=void 0,e.choice.group&&(e.choice.group.choices=e.choice.group.choices.filter(function(s){return s.id!==e.choice.id})),n=n.filter(function(s){return s.id!==e.choice.id});break}case $.ADD_ITEM:case $.REMOVE_ITEM:{e.item.choiceEl=void 0;break}case $.FILTER_CHOICES:{var o=[];e.results.forEach(function(s){o[s.item.id]=s}),n.forEach(function(s){var a=o[s.id];a!==void 0?(s.score=a.score,s.rank=a.rank,s.active=!0):(s.score=0,s.rank=0,s.active=!1),i&&i.appendGroupInSearch&&(s.choiceEl=void 0)});break}case $.ACTIVATE_CHOICES:{n.forEach(function(s){s.active=e.active,i&&i.appendGroupInSearch&&(s.choiceEl=void 0)});break}case $.CLEAR_CHOICES:{n=[];break}default:{r=!1;break}}return{state:n,update:r}}var Hr={groups:jl,items:Rl,choices:Bl},ql=function(){function t(e){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=e}return Object.defineProperty(t.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),t.prototype.changeSet=function(e){return{groups:e,items:e,choices:e}},t.prototype.reset=function(){this._state=this.defaultState;var e=this.changeSet(!0);this._txn?this._changeSet=e:this._listeners.forEach(function(i){return i(e)})},t.prototype.subscribe=function(e){return this._listeners.push(e),this},t.prototype.dispatch=function(e){var i=this,n=this._state,r=!1,o=this._changeSet||this.changeSet(!1);Object.keys(Hr).forEach(function(s){var a=Hr[s](n[s],e,i._context);a.update&&(r=!0,o[s]=!0,n[s]=a.state)}),r&&(this._txn?this._changeSet=o:this._listeners.forEach(function(s){return s(o)}))},t.prototype.withTxn=function(e){this._txn++;try{e()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var i=this._changeSet;i&&(this._changeSet=void 0,this._listeners.forEach(function(n){return n(i)}))}}},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(e){return e.active&&e.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeChoices",{get:function(){return this.choices.filter(function(e){return e.active})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(e){return!e.disabled&&!e.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeGroups",{get:function(){var e=this;return this.state.groups.filter(function(i){var n=i.active&&!i.disabled,r=e.state.choices.some(function(o){return o.active&&!o.disabled});return n&&r},[])},enumerable:!1,configurable:!0}),t.prototype.inTxn=function(){return this._txn>0},t.prototype.getChoiceById=function(e){return this.activeChoices.find(function(i){return i.id===e})},t.prototype.getGroupById=function(e){return this.groups.find(function(i){return i.id===e})},t}(),X={noChoices:"no-choices",noResults:"no-results",addChoice:"add-choice",generic:""};function $l(t,e,i){return(e=Vl(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Vr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Ye(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Vr(Object(i),!0).forEach(function(n){$l(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Vr(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Hl(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vl(t){var e=Hl(t,"string");return typeof e=="symbol"?e:e+""}function Ae(t){return Array.isArray?Array.isArray(t):$o(t)==="[object Array]"}function Wl(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Kl(t){return t==null?"":Wl(t)}function ge(t){return typeof t=="string"}function Bo(t){return typeof t=="number"}function Gl(t){return t===!0||t===!1||Yl(t)&&$o(t)=="[object Boolean]"}function qo(t){return typeof t=="object"}function Yl(t){return qo(t)&&t!==null}function oe(t){return t!=null}function Zi(t){return!t.trim().length}function $o(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Ul="Incorrect 'index' type",Xl=t=>`Invalid value for key ${t}`,zl=t=>`Pattern length exceeds max of ${t}.`,Jl=t=>`Missing ${t} property in key`,Ql=t=>`Property 'weight' in key '${t}' must be a positive integer`,Wr=Object.prototype.hasOwnProperty;class Zl{constructor(e){this._keys=[],this._keyMap={};let i=0;e.forEach(n=>{let r=Ho(n);this._keys.push(r),this._keyMap[r.id]=r,i+=r.weight}),this._keys.forEach(n=>{n.weight/=i})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ho(t){let e=null,i=null,n=null,r=1,o=null;if(ge(t)||Ae(t))n=t,e=Kr(t),i=un(t);else{if(!Wr.call(t,"name"))throw new Error(Jl("name"));const s=t.name;if(n=s,Wr.call(t,"weight")&&(r=t.weight,r<=0))throw new Error(Ql(s));e=Kr(s),i=un(s),o=t.getFn}return{path:e,id:i,weight:r,src:n,getFn:o}}function Kr(t){return Ae(t)?t:t.split(".")}function un(t){return Ae(t)?t.join("."):t}function ec(t,e){let i=[],n=!1;const r=(o,s,a)=>{if(oe(o))if(!s[a])i.push(o);else{let l=s[a];const c=o[l];if(!oe(c))return;if(a===s.length-1&&(ge(c)||Bo(c)||Gl(c)))i.push(Kl(c));else if(Ae(c)){n=!0;for(let u=0,h=c.length;u<h;u+=1)r(c[u],s,a+1)}else s.length&&r(c,s,a+1)}};return r(t,ge(e)?e.split("."):e,0),n?i:i[0]}const tc={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ic={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},nc={location:0,threshold:.6,distance:100},rc={useExtendedSearch:!1,getFn:ec,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var C=Ye(Ye(Ye(Ye({},ic),tc),nc),rc);const oc=/[^ ]+/g;function sc(t=1,e=3){const i=new Map,n=Math.pow(10,e);return{get(r){const o=r.match(oc).length;if(i.has(o))return i.get(o);const s=1/Math.pow(o,.5*t),a=parseFloat(Math.round(s*n)/n);return i.set(o,a),a},clear(){i.clear()}}}class An{constructor({getFn:e=C.getFn,fieldNormWeight:i=C.fieldNormWeight}={}){this.norm=sc(i,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((i,n)=>{this._keysMap[i.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ge(this.docs[0])?this.docs.forEach((e,i)=>{this._addString(e,i)}):this.docs.forEach((e,i)=>{this._addObject(e,i)}),this.norm.clear())}add(e){const i=this.size();ge(e)?this._addString(e,i):this._addObject(e,i)}removeAt(e){this.records.splice(e,1);for(let i=e,n=this.size();i<n;i+=1)this.records[i].i-=1}getValueForItemAtKeyId(e,i){return e[this._keysMap[i]]}size(){return this.records.length}_addString(e,i){if(!oe(e)||Zi(e))return;let n={v:e,i,n:this.norm.get(e)};this.records.push(n)}_addObject(e,i){let n={i,$:{}};this.keys.forEach((r,o)=>{let s=r.getFn?r.getFn(e):this.getFn(e,r.path);if(oe(s)){if(Ae(s)){let a=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(oe(u))if(ge(u)&&!Zi(u)){let h={v:u,i:c,n:this.norm.get(u)};a.push(h)}else Ae(u)&&u.forEach((h,p)=>{l.push({nestedArrIndex:p,value:h})})}n.$[o]=a}else if(ge(s)&&!Zi(s)){let a={v:s,n:this.norm.get(s)};n.$[o]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Vo(t,e,{getFn:i=C.getFn,fieldNormWeight:n=C.fieldNormWeight}={}){const r=new An({getFn:i,fieldNormWeight:n});return r.setKeys(t.map(Ho)),r.setSources(e),r.create(),r}function ac(t,{getFn:e=C.getFn,fieldNormWeight:i=C.fieldNormWeight}={}){const{keys:n,records:r}=t,o=new An({getFn:e,fieldNormWeight:i});return o.setKeys(n),o.setIndexRecords(r),o}function xt(t,{errors:e=0,currentLocation:i=0,expectedLocation:n=0,distance:r=C.distance,ignoreLocation:o=C.ignoreLocation}={}){const s=e/t.length;if(o)return s;const a=Math.abs(n-i);return r?s+a/r:a?1:s}function lc(t=[],e=C.minMatchCharLength){let i=[],n=-1,r=-1,o=0;for(let s=t.length;o<s;o+=1){let a=t[o];a&&n===-1?n=o:!a&&n!==-1&&(r=o-1,r-n+1>=e&&i.push([n,r]),n=-1)}return t[o-1]&&o-n>=e&&i.push([n,o-1]),i}const je=32;function cc(t,e,i,{location:n=C.location,distance:r=C.distance,threshold:o=C.threshold,findAllMatches:s=C.findAllMatches,minMatchCharLength:a=C.minMatchCharLength,includeMatches:l=C.includeMatches,ignoreLocation:c=C.ignoreLocation}={}){if(e.length>je)throw new Error(zl(je));const u=e.length,h=t.length,p=Math.max(0,Math.min(n,h));let d=o,f=p;const m=a>1||l,b=m?Array(h):[];let v;for(;(v=t.indexOf(e,f))>-1;){let P=xt(e,{currentLocation:v,expectedLocation:p,distance:r,ignoreLocation:c});if(d=Math.min(P,d),f=v+u,m){let F=0;for(;F<u;)b[v+F]=1,F+=1}}f=-1;let y=[],_=1,S=u+h;const k=1<<u-1;for(let P=0;P<u;P+=1){let F=0,M=S;for(;F<M;)xt(e,{errors:P,currentLocation:p+M,expectedLocation:p,distance:r,ignoreLocation:c})<=d?F=M:S=M,M=Math.floor((S-F)/2+F);S=M;let G=Math.max(1,p-M+1),T=s?h:Math.min(p+M,h)+u,q=Array(T+2);q[T+1]=(1<<P)-1;for(let O=T;O>=G;O-=1){let H=O-1,V=i[t.charAt(H)];if(m&&(b[H]=+!!V),q[O]=(q[O+1]<<1|1)&V,P&&(q[O]|=(y[O+1]|y[O])<<1|1|y[O+1]),q[O]&k&&(_=xt(e,{errors:P,currentLocation:H,expectedLocation:p,distance:r,ignoreLocation:c}),_<=d)){if(d=_,f=H,f<=p)break;G=Math.max(1,2*p-f)}}if(xt(e,{errors:P+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:c})>d)break;y=q}const N={isMatch:f>=0,score:Math.max(.001,_)};if(m){const P=lc(b,a);P.length?l&&(N.indices=P):N.isMatch=!1}return N}function uc(t){let e={};for(let i=0,n=t.length;i<n;i+=1){const r=t.charAt(i);e[r]=(e[r]||0)|1<<n-i-1}return e}class Wo{constructor(e,{location:i=C.location,threshold:n=C.threshold,distance:r=C.distance,includeMatches:o=C.includeMatches,findAllMatches:s=C.findAllMatches,minMatchCharLength:a=C.minMatchCharLength,isCaseSensitive:l=C.isCaseSensitive,ignoreLocation:c=C.ignoreLocation}={}){if(this.options={location:i,threshold:n,distance:r,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(p,d)=>{this.chunks.push({pattern:p,alphabet:uc(p),startIndex:d})},h=this.pattern.length;if(h>je){let p=0;const d=h%je,f=h-d;for(;p<f;)u(this.pattern.substr(p,je),p),p+=je;if(d){const m=h-je;u(this.pattern.substr(m),m)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:i,includeMatches:n}=this.options;if(i||(e=e.toLowerCase()),this.pattern===e){let f={isMatch:!0,score:0};return n&&(f.indices=[[0,e.length-1]]),f}const{location:r,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],h=0,p=!1;this.chunks.forEach(({pattern:f,alphabet:m,startIndex:b})=>{const{isMatch:v,score:y,indices:_}=cc(e,f,m,{location:r+b,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,includeMatches:n,ignoreLocation:c});v&&(p=!0),h+=y,v&&_&&(u=[...u,..._])});let d={isMatch:p,score:p?h/this.chunks.length:1};return p&&n&&(d.indices=u),d}}class Me{constructor(e){this.pattern=e}static isMultiMatch(e){return Gr(e,this.multiRegex)}static isSingleMatch(e){return Gr(e,this.singleRegex)}search(){}}function Gr(t,e){const i=t.match(e);return i?i[1]:null}class hc extends Me{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const i=e===this.pattern;return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class dc extends Me{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class fc extends Me{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const i=e.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class pc extends Me{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const i=!e.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class mc extends Me{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const i=e.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class gc extends Me{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const i=!e.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class Ko extends Me{constructor(e,{location:i=C.location,threshold:n=C.threshold,distance:r=C.distance,includeMatches:o=C.includeMatches,findAllMatches:s=C.findAllMatches,minMatchCharLength:a=C.minMatchCharLength,isCaseSensitive:l=C.isCaseSensitive,ignoreLocation:c=C.ignoreLocation}={}){super(e),this._bitapSearch=new Wo(e,{location:i,threshold:n,distance:r,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Go extends Me{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let i=0,n;const r=[],o=this.pattern.length;for(;(n=e.indexOf(this.pattern,i))>-1;)i=n+o,r.push([n,i-1]);const s=!!r.length;return{isMatch:s,score:s?0:1,indices:r}}}const hn=[hc,Go,fc,pc,gc,mc,dc,Ko],Yr=hn.length,vc=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,bc="|";function yc(t,e={}){return t.split(bc).map(i=>{let n=i.trim().split(vc).filter(o=>o&&!!o.trim()),r=[];for(let o=0,s=n.length;o<s;o+=1){const a=n[o];let l=!1,c=-1;for(;!l&&++c<Yr;){const u=hn[c];let h=u.isMultiMatch(a);h&&(r.push(new u(h,e)),l=!0)}if(!l)for(c=-1;++c<Yr;){const u=hn[c];let h=u.isSingleMatch(a);if(h){r.push(new u(h,e));break}}}return r})}const _c=new Set([Ko.type,Go.type]);class wc{constructor(e,{isCaseSensitive:i=C.isCaseSensitive,includeMatches:n=C.includeMatches,minMatchCharLength:r=C.minMatchCharLength,ignoreLocation:o=C.ignoreLocation,findAllMatches:s=C.findAllMatches,location:a=C.location,threshold:l=C.threshold,distance:c=C.distance}={}){this.query=null,this.options={isCaseSensitive:i,includeMatches:n,minMatchCharLength:r,findAllMatches:s,ignoreLocation:o,location:a,threshold:l,distance:c},this.pattern=i?e:e.toLowerCase(),this.query=yc(this.pattern,this.options)}static condition(e,i){return i.useExtendedSearch}searchIn(e){const i=this.query;if(!i)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,s=[],a=0;for(let l=0,c=i.length;l<c;l+=1){const u=i[l];s.length=0,o=0;for(let h=0,p=u.length;h<p;h+=1){const d=u[h],{isMatch:f,indices:m,score:b}=d.search(e);if(f){if(o+=1,a+=b,n){const v=d.constructor.type;_c.has(v)?s=[...s,...m]:s.push(m)}}else{a=0,o=0,s.length=0;break}}if(o){let h={isMatch:!0,score:a/o};return n&&(h.indices=s),h}}return{isMatch:!1,score:1}}}const dn=[];function Ec(...t){dn.push(...t)}function fn(t,e){for(let i=0,n=dn.length;i<n;i+=1){let r=dn[i];if(r.condition(t,e))return new r(t,e)}return new Wo(t,e)}const Vt={AND:"$and",OR:"$or"},pn={PATH:"$path",PATTERN:"$val"},mn=t=>!!(t[Vt.AND]||t[Vt.OR]),Sc=t=>!!t[pn.PATH],Cc=t=>!Ae(t)&&qo(t)&&!mn(t),Ur=t=>({[Vt.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Yo(t,e,{auto:i=!0}={}){const n=r=>{let o=Object.keys(r);const s=Sc(r);if(!s&&o.length>1&&!mn(r))return n(Ur(r));if(Cc(r)){const l=s?r[pn.PATH]:o[0],c=s?r[pn.PATTERN]:r[l];if(!ge(c))throw new Error(Xl(l));const u={keyId:un(l),pattern:c};return i&&(u.searcher=fn(c,e)),u}let a={children:[],operator:o[0]};return o.forEach(l=>{const c=r[l];Ae(c)&&c.forEach(u=>{a.children.push(n(u))})}),a};return mn(t)||(t=Ur(t)),n(t)}function Ac(t,{ignoreFieldNorm:e=C.ignoreFieldNorm}){t.forEach(i=>{let n=1;i.matches.forEach(({key:r,norm:o,score:s})=>{const a=r?r.weight:null;n*=Math.pow(s===0&&a?Number.EPSILON:s,(a||1)*(e?1:o))}),i.score=n})}function Tc(t,e){const i=t.matches;e.matches=[],oe(i)&&i.forEach(n=>{if(!oe(n.indices)||!n.indices.length)return;const{indices:r,value:o}=n;let s={indices:r,value:o};n.key&&(s.key=n.key.src),n.idx>-1&&(s.refIndex=n.idx),e.matches.push(s)})}function Ic(t,e){e.score=t.score}function xc(t,e,{includeMatches:i=C.includeMatches,includeScore:n=C.includeScore}={}){const r=[];return i&&r.push(Tc),n&&r.push(Ic),t.map(o=>{const{idx:s}=o,a={item:e[s],refIndex:s};return r.length&&r.forEach(l=>{l(o,a)}),a})}class Ze{constructor(e,i={},n){this.options=Ye(Ye({},C),i),this.options.useExtendedSearch,this._keyStore=new Zl(this.options.keys),this.setCollection(e,n)}setCollection(e,i){if(this._docs=e,i&&!(i instanceof An))throw new Error(Ul);this._myIndex=i||Vo(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){oe(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const i=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,i.push(o))}return i}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:i=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:s,ignoreFieldNorm:a}=this.options;let l=ge(e)?ge(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Ac(l,{ignoreFieldNorm:a}),o&&l.sort(s),Bo(i)&&i>-1&&(l=l.slice(0,i)),xc(l,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const i=fn(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:o,i:s,n:a})=>{if(!oe(o))return;const{isMatch:l,score:c,indices:u}=i.searchIn(o);l&&r.push({item:o,idx:s,matches:[{score:c,value:o,norm:a,indices:u}]})}),r}_searchLogical(e){const i=Yo(e,this.options),n=(a,l,c)=>{if(!a.children){const{keyId:h,searcher:p}=a,d=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:p});return d&&d.length?[{idx:c,item:l,matches:d}]:[]}const u=[];for(let h=0,p=a.children.length;h<p;h+=1){const d=a.children[h],f=n(d,l,c);if(f.length)u.push(...f);else if(a.operator===Vt.AND)return[]}return u},r=this._myIndex.records,o={},s=[];return r.forEach(({$:a,i:l})=>{if(oe(a)){let c=n(i,a,l);c.length&&(o[l]||(o[l]={idx:l,item:a,matches:[]},s.push(o[l])),c.forEach(({matches:u})=>{o[l].matches.push(...u)}))}}),s}_searchObjectList(e){const i=fn(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach(({$:s,i:a})=>{if(!oe(s))return;let l=[];n.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:s[u],searcher:i}))}),l.length&&o.push({idx:a,item:s,matches:l})}),o}_findMatches({key:e,value:i,searcher:n}){if(!oe(i))return[];let r=[];if(Ae(i))i.forEach(({v:o,i:s,n:a})=>{if(!oe(o))return;const{isMatch:l,score:c,indices:u}=n.searchIn(o);l&&r.push({score:c,key:e,value:o,idx:s,norm:a,indices:u})});else{const{v:o,n:s}=i,{isMatch:a,score:l,indices:c}=n.searchIn(o);a&&r.push({score:l,key:e,value:o,norm:s,indices:c})}return r}}Ze.version="7.0.0";Ze.createIndex=Vo;Ze.parseIndex=ac;Ze.config=C;Ze.parseQuery=Yo;Ec(wc);var Oc=function(){function t(e){this._haystack=[],this._fuseOptions=te(te({},e.fuseOptions),{keys:hl([],e.searchFields),includeMatches:!0})}return t.prototype.index=function(e){this._haystack=e,this._fuse&&this._fuse.setCollection(e)},t.prototype.reset=function(){this._haystack=[],this._fuse=void 0},t.prototype.isEmptyIndex=function(){return!this._haystack.length},t.prototype.search=function(e){this._fuse||(this._fuse=new Ze(this._haystack,this._fuseOptions));var i=this._fuse.search(e);return i.map(function(n,r){return{item:n.item,score:n.score||0,rank:r+1}})},t}();function Dc(t){return new Oc(t)}var kc=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},en=function(t,e,i){var n=t.dataset,r=e.customProperties,o=e.labelClass,s=e.labelDescription;o&&(n.labelClass=ti(o).join(" ")),s&&(n.labelDescription=s),i&&r&&(typeof r=="string"?n.customProperties=r:typeof r=="object"&&!kc(r)&&(n.customProperties=JSON.stringify(r)))},Xr=function(t,e,i){var n=e&&t.querySelector("label[for='".concat(e,"']")),r=n&&n.innerText;r&&i.setAttribute("aria-label",r)},Lc={containerOuter:function(t,e,i,n,r,o,s){var a=t.classNames.containerOuter,l=document.createElement("div");return I(l,a),l.dataset.type=o,e&&(l.dir=e),n&&(l.tabIndex=0),i&&(l.setAttribute("role",r?"combobox":"listbox"),r?l.setAttribute("aria-autocomplete","list"):s||Xr(this._docRoot,this.passedElement.element.id,l),l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded","false")),s&&l.setAttribute("aria-labelledby",s),l},containerInner:function(t){var e=t.classNames.containerInner,i=document.createElement("div");return I(i,e),i},itemList:function(t,e){var i=t.searchEnabled,n=t.classNames,r=n.list,o=n.listSingle,s=n.listItems,a=document.createElement("div");return I(a,r),I(a,e?o:s),this._isSelectElement&&i&&a.setAttribute("role","listbox"),a},placeholder:function(t,e){var i=t.allowHTML,n=t.classNames.placeholder,r=document.createElement("div");return I(r,n),Ee(r,i,e),r},item:function(t,e,i){var n=t.allowHTML,r=t.removeItemButtonAlignLeft,o=t.removeItemIconText,s=t.removeItemLabelText,a=t.classNames,l=a.item,c=a.button,u=a.highlightedState,h=a.itemSelectable,p=a.placeholder,d=Be(e.value),f=document.createElement("div");if(I(f,l),e.labelClass){var m=document.createElement("span");Ee(m,n,e.label),I(m,e.labelClass),f.appendChild(m)}else Ee(f,n,e.label);if(f.dataset.item="",f.dataset.id=e.id,f.dataset.value=d,en(f,e,!0),(e.disabled||this.containerOuter.isDisabled)&&f.setAttribute("aria-disabled","true"),this._isSelectElement&&(f.setAttribute("aria-selected","true"),f.setAttribute("role","option")),e.placeholder&&(I(f,p),f.dataset.placeholder=""),I(f,e.highlighted?u:h),i){e.disabled&&me(f,h),f.dataset.deletable="";var b=document.createElement("button");b.type="button",I(b,c),Ee(b,!0,ft(o,e.value));var v=ft(s,e.value);v&&b.setAttribute("aria-label",v),b.dataset.button="",r?f.insertAdjacentElement("afterbegin",b):f.appendChild(b)}return f},choiceList:function(t,e){var i=t.classNames.list,n=document.createElement("div");return I(n,i),e||n.setAttribute("aria-multiselectable","true"),n.setAttribute("role","listbox"),n},choiceGroup:function(t,e){var i=t.allowHTML,n=t.classNames,r=n.group,o=n.groupHeading,s=n.itemDisabled,a=e.id,l=e.label,c=e.disabled,u=Be(l),h=document.createElement("div");I(h,r),c&&I(h,s),h.setAttribute("role","group"),h.dataset.group="",h.dataset.id=a,h.dataset.value=u,c&&h.setAttribute("aria-disabled","true");var p=document.createElement("div");return I(p,o),Ee(p,i,l||""),h.appendChild(p),h},choice:function(t,e,i,n){var r=t.allowHTML,o=t.classNames,s=o.item,a=o.itemChoice,l=o.itemSelectable,c=o.selectedState,u=o.itemDisabled,h=o.description,p=o.placeholder,d=e.label,f=Be(e.value),m=document.createElement("div");m.id=e.elementId,I(m,s),I(m,a),n&&typeof d=="string"&&(d=Cn(r,d),d+=" (".concat(n,")"),d={trusted:d});var b=m;if(e.labelClass){var v=document.createElement("span");Ee(v,r,d),I(v,e.labelClass),b=v,m.appendChild(v)}else Ee(m,r,d);if(e.labelDescription){var y="".concat(e.elementId,"-description");b.setAttribute("aria-describedby",y);var _=document.createElement("span");Ee(_,r,e.labelDescription),_.id=y,I(_,h),m.appendChild(_)}return e.selected&&I(m,c),e.placeholder&&I(m,p),m.setAttribute("role",e.group?"treeitem":"option"),m.dataset.choice="",m.dataset.id=e.id,m.dataset.value=f,i&&(m.dataset.selectText=i),e.group&&(m.dataset.groupId="".concat(e.group.id)),en(m,e,!1),e.disabled?(I(m,u),m.dataset.choiceDisabled="",m.setAttribute("aria-disabled","true")):(I(m,l),m.dataset.choiceSelectable=""),m},input:function(t,e){var i=t.classNames,n=i.input,r=i.inputCloned,o=t.labelId,s=document.createElement("input");return s.type="search",I(s,n),I(s,r),s.autocomplete="off",s.autocapitalize="off",s.spellcheck=!1,s.setAttribute("aria-autocomplete","list"),e?s.setAttribute("aria-label",e):o||Xr(this._docRoot,this.passedElement.element.id,s),s},dropdown:function(t){var e=t.classNames,i=e.list,n=e.listDropdown,r=document.createElement("div");return I(r,i),I(r,n),r.setAttribute("aria-expanded","false"),r},notice:function(t,e,i){var n=t.classNames,r=n.item,o=n.itemChoice,s=n.addChoice,a=n.noResults,l=n.noChoices,c=n.notice;i===void 0&&(i=X.generic);var u=document.createElement("div");switch(Ee(u,!0,e),I(u,r),I(u,o),I(u,c),i){case X.addChoice:I(u,s);break;case X.noResults:I(u,a);break;case X.noChoices:I(u,l);break}return i===X.addChoice&&(u.dataset.choiceSelectable="",u.dataset.choice=""),u},option:function(t){var e=Be(t.label),i=new Option(e,t.value,!1,t.selected);return en(i,t,!0),i.disabled=t.disabled,t.selected&&i.setAttribute("selected",""),i}},Pc="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,Mc={},tn=function(t){if(t)return t.dataset.id?parseInt(t.dataset.id,10):void 0},tt="[data-choice-selectable]",Nc=function(){function t(e,i){e===void 0&&(e="[data-choice]"),i===void 0&&(i={});var n=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var r=t.defaults;this.config=te(te(te({},r.allOptions),r.options),i),dl.forEach(function(v){n.config[v]=te(te(te({},r.allOptions[v]),r.options[v]),i[v])});var o=this.config;o.silent||this._validateConfig();var s=o.shadowRoot||document.documentElement;this._docRoot=s;var a=typeof e=="string"?s.querySelector(e):e;if(!a||typeof a!="object"||!(Ll(a)||jo(a)))throw TypeError(!a&&typeof e=="string"?"Selector ".concat(e," failed to find an element"):"Expected one of the following types text|select-one|select-multiple");var l=a.type,c=l===Le.Text;(c||o.maxItemCount!==1)&&(o.singleModeForMultiSelect=!1),o.singleModeForMultiSelect&&(l=Le.SelectMultiple);var u=l===Le.SelectOne,h=l===Le.SelectMultiple,p=u||h;if(this._elementType=l,this._isTextElement=c,this._isSelectOneElement=u,this._isSelectMultipleElement=h,this._isSelectElement=u||h,this._canAddUserChoices=c&&o.addItems||p&&o.addChoices,typeof o.renderSelectedChoices!="boolean"&&(o.renderSelectedChoices=o.renderSelectedChoices==="always"||u),o.closeDropdownOnSelect==="auto"?o.closeDropdownOnSelect=c||u||o.singleModeForMultiSelect:o.closeDropdownOnSelect=at(o.closeDropdownOnSelect),o.placeholder&&(o.placeholderValue?this._hasNonChoicePlaceholder=!0:a.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,o.placeholderValue=a.dataset.placeholder)),i.addItemFilter&&typeof i.addItemFilter!="function"){var d=i.addItemFilter instanceof RegExp?i.addItemFilter:new RegExp(i.addItemFilter);o.addItemFilter=d.test.bind(d)}if(this._isTextElement)this.passedElement=new kl({element:a,classNames:o.classNames});else{var f=a;this.passedElement=new Nl({element:f,classNames:o.classNames,template:function(v){return n._templates.option(v)},extractPlaceholder:o.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new ql(o),this._currentValue="",o.searchEnabled=!c&&o.searchEnabled||h,this._canSearch=o.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=bl(a,"choices-"),this._direction=a.dir,!this._direction){var m=window.getComputedStyle(a).direction,b=window.getComputedStyle(document.documentElement).direction;m!==b&&(this._direction=m)}if(this._idNames={itemChoice:"item-choice"},this._templates=r.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){o.silent||console.warn("Trying to initialise Choices on element already initialised",{element:e}),this.initialised=!0,this.initialisedOK=!1;return}this.init(),this._initialItems=this._store.items.map(function(v){return v.value})}return Object.defineProperty(t,"defaults",{get:function(){return Object.preventExtensions({get options(){return Mc},get allOptions(){return qr},get templates(){return Lc}})},enumerable:!1,configurable:!0}),t.prototype.init=function(){if(!(this.initialised||this.initialisedOK!==void 0)){this._searcher=Dc(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;typeof e=="function"&&e.call(this)}},t.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=t.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},t.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},t.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},t.prototype.highlightItem=function(e,i){if(i===void 0&&(i=!0),!e||!e.id)return this;var n=this._store.items.find(function(r){return r.id===e.id});return!n||n.highlighted?this:(this._store.dispatch(It(n,!0)),i&&this.passedElement.triggerEvent(ee.highlightItem,this._getChoiceForOutput(n)),this)},t.prototype.unhighlightItem=function(e,i){if(i===void 0&&(i=!0),!e||!e.id)return this;var n=this._store.items.find(function(r){return r.id===e.id});return!n||!n.highlighted?this:(this._store.dispatch(It(n,!1)),i&&this.passedElement.triggerEvent(ee.unhighlightItem,this._getChoiceForOutput(n)),this)},t.prototype.highlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(i){i.highlighted||(e._store.dispatch(It(i,!0)),e.passedElement.triggerEvent(ee.highlightItem,e._getChoiceForOutput(i)))})}),this},t.prototype.unhighlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(i){i.highlighted&&(e._store.dispatch(It(i,!1)),e.passedElement.triggerEvent(ee.highlightItem,e._getChoiceForOutput(i)))})}),this},t.prototype.removeActiveItemsByValue=function(e){var i=this;return this._store.withTxn(function(){i._store.items.filter(function(n){return n.value===e}).forEach(function(n){return i._removeItem(n)})}),this},t.prototype.removeActiveItems=function(e){var i=this;return this._store.withTxn(function(){i._store.items.filter(function(n){var r=n.id;return r!==e}).forEach(function(n){return i._removeItem(n)})}),this},t.prototype.removeHighlightedItems=function(e){var i=this;return e===void 0&&(e=!1),this._store.withTxn(function(){i._store.highlightedActiveItems.forEach(function(n){i._removeItem(n),e&&i._triggerChange(n.value)})}),this},t.prototype.showDropdown=function(e){var i=this;return this.dropdown.isActive?this:(e===void 0&&(e=!this._canSearch),requestAnimationFrame(function(){i.dropdown.show();var n=i.dropdown.element.getBoundingClientRect();i.containerOuter.open(n.bottom,n.height),e||i.input.focus(),i.passedElement.triggerEvent(ee.showDropdown)}),this)},t.prototype.hideDropdown=function(e){var i=this;return this.dropdown.isActive?(requestAnimationFrame(function(){i.dropdown.hide(),i.containerOuter.close(),!e&&i._canSearch&&(i.input.removeActiveDescendant(),i.input.blur()),i.passedElement.triggerEvent(ee.hideDropdown)}),this):this},t.prototype.getValue=function(e){var i=this,n=this._store.items.map(function(r){return e?r.value:i._getChoiceForOutput(r)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?n[0]:n},t.prototype.setValue=function(e){var i=this;return this.initialisedOK?(this._store.withTxn(function(){e.forEach(function(n){n&&i._addChoice(pe(n,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},t.prototype.setChoiceByValue=function(e){var i=this;return this.initialisedOK?this._isTextElement?this:(this._store.withTxn(function(){var n=Array.isArray(e)?e:[e];n.forEach(function(r){return i._findAndSelectChoiceByValue(r)}),i.unhighlightAll()}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},t.prototype.setChoices=function(e,i,n,r,o,s){var a=this;if(e===void 0&&(e=[]),i===void 0&&(i="value"),n===void 0&&(n="label"),r===void 0&&(r=!1),o===void 0&&(o=!0),s===void 0&&(s=!1),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof i!="string"||!i)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(typeof e=="function"){var l=e(this);if(typeof Promise=="function"&&l instanceof Promise)return new Promise(function(c){return requestAnimationFrame(c)}).then(function(){return a._handleLoadingState(!0)}).then(function(){return l}).then(function(c){return a.setChoices(c,i,n,r,o,s)}).catch(function(c){a.config.silent||console.error(c)}).then(function(){return a._handleLoadingState(!1)}).then(function(){return a});if(!Array.isArray(l))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof l));return this.setChoices(l,i,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){o&&(a._isSearching=!1),r&&a.clearChoices(!0,s);var c=i==="value",u=n==="label";e.forEach(function(h){if("choices"in h){var p=h;u||(p=te(te({},p),{label:p[n]})),a._addGroup(pe(p,!0))}else{var d=h;(!u||!c)&&(d=te(te({},d),{value:d[i],label:d[n]}));var f=pe(d,!1);a._addChoice(f),f.placeholder&&!a._hasNonChoicePlaceholder&&(a._placeholderValue=No(f.label))}}),a.unhighlightAll()}),this._searcher.reset(),this},t.prototype.refresh=function(e,i,n){var r=this;return e===void 0&&(e=!1),i===void 0&&(i=!1),n===void 0&&(n=!1),this._isSelectElement?(this._store.withTxn(function(){var o=r.passedElement.optionsAsChoices(),s={};n||r._store.items.forEach(function(l){l.id&&l.active&&l.selected&&(s[l.value]=!0)}),r.clearStore(!1);var a=function(l){n?r._store.dispatch(Nr(l)):s[l.value]&&(l.selected=!0)};o.forEach(function(l){if("choices"in l){l.choices.forEach(a);return}a(l)}),r._addPredefinedChoices(o,i,e),r._isSearching&&r._searchChoices(r.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},t.prototype.removeChoice=function(e){var i=this._store.choices.find(function(n){return n.value===e});return i?(this._clearNotice(),this._store.dispatch(fl(i)),this._searcher.reset(),i.selected&&this.passedElement.triggerEvent(ee.removeItem,this._getChoiceForOutput(i)),this):this},t.prototype.clearChoices=function(e,i){var n=this;return e===void 0&&(e=!0),i===void 0&&(i=!1),e&&(i?this.passedElement.element.replaceChildren(""):this.passedElement.element.querySelectorAll(":not([selected])").forEach(function(r){r.remove()})),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._clearNotice(),this._store.withTxn(function(){var r=i?[]:n._store.items;n._store.reset(),r.forEach(function(o){n._store.dispatch(Pr(o)),n._store.dispatch(Mr(o))})}),this._searcher.reset(),this},t.prototype.clearStore=function(e){return e===void 0&&(e=!0),this.clearChoices(e,!0),this._stopSearch(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this},t.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),this._stopSearch(),this},t.prototype._validateConfig=function(){var e=this.config,i=Al(e,qr);i.length&&console.warn("Unknown config option(s) passed",i.join(", ")),e.allowHTML&&e.allowHtmlUserInput&&(e.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),e.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},t.prototype._render=function(e){e===void 0&&(e={choices:!0,groups:!0,items:!0}),!this._store.inTxn()&&(this._isSelectElement&&(e.choices||e.groups)&&this._renderChoices(),e.items&&this._renderItems())},t.prototype._renderChoices=function(){var e=this;if(this._canAddItems()){var i=this,n=i.config,r=i._isSearching,o=this._store,s=o.activeGroups,a=o.activeChoices,l=0;if(r&&n.searchResultLimit>0?l=n.searchResultLimit:n.renderChoiceLimit>0&&(l=n.renderChoiceLimit),this._isSelectElement){var c=a.filter(function(f){return!f.element});c.length&&this.passedElement.addOptions(c)}var u=document.createDocumentFragment(),h=function(f){return f.filter(function(m){return!m.placeholder&&(r?!!m.rank:n.renderSelectedChoices||!m.selected)})},p=!1,d=function(f,m,b){r?f.sort(Sl):n.shouldSort&&f.sort(n.sorter);var v=f.length;v=!m&&l&&v>l?l:v,v--,f.every(function(y,_){var S=y.choiceEl||e._templates.choice(n,y,n.itemSelectText,b);return y.choiceEl=S,u.appendChild(S),(r||!y.selected)&&(p=!0),_<v})};a.length&&(n.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),!this._hasNonChoicePlaceholder&&!r&&this._isSelectOneElement&&d(a.filter(function(f){return f.placeholder&&!f.group}),!1,void 0),s.length&&!r?(n.shouldSort&&s.sort(n.sorter),d(a.filter(function(f){return!f.placeholder&&!f.group}),!1,void 0),s.forEach(function(f){var m=h(f.choices);if(m.length){if(f.label){var b=f.groupEl||e._templates.choiceGroup(e.config,f);f.groupEl=b,b.remove(),u.appendChild(b)}d(m,!0,n.appendGroupInSearch&&r?f.label:void 0)}})):d(h(a),!1,void 0)),!p&&(r||!u.children.length||!n.renderSelectedChoices)&&(this._notice||(this._notice={text:Rr(r?n.noResultsText:n.noChoicesText),type:r?X.noResults:X.noChoices}),u.replaceChildren("")),this._renderNotice(u),this.choiceList.element.replaceChildren(u),p&&this._highlightChoice()}},t.prototype._renderItems=function(){var e=this,i=this._store.items||[],n=this.itemList.element,r=this.config,o=document.createDocumentFragment(),s=function(h){return n.querySelector('[data-item][data-id="'.concat(h.id,'"]'))},a=function(h){var p=h.itemEl;p&&p.parentElement||(p=s(h)||e._templates.item(r,h,r.removeItemButton),h.itemEl=p,o.appendChild(p))};i.forEach(a);var l=!!o.childNodes.length;if(this._isSelectOneElement){var c=n.children.length;if(l||c>1){var u=n.querySelector(et(r.classNames.placeholder));u&&u.remove()}else!l&&!c&&this._placeholderValue&&(l=!0,a(pe({selected:!0,value:"",label:this._placeholderValue,placeholder:!0},!1)))}l&&(n.append(o),r.shouldSortItems&&!this._isSelectOneElement&&(i.sort(r.sorter),i.forEach(function(h){var p=s(h);p&&(p.remove(),o.append(p))}),n.append(o))),this._isTextElement&&(this.passedElement.value=i.map(function(h){var p=h.value;return p}).join(r.delimiter))},t.prototype._displayNotice=function(e,i,n){n===void 0&&(n=!0);var r=this._notice;if(r&&(r.type===i&&r.text===e||r.type===X.addChoice&&(i===X.noResults||i===X.noChoices))){n&&this.showDropdown(!0);return}this._clearNotice(),this._notice=e?{text:e,type:i}:void 0,this._renderNotice(),n&&e&&this.showDropdown(!0)},t.prototype._clearNotice=function(){if(this._notice){var e=this.choiceList.element.querySelector(et(this.config.classNames.notice));e&&e.remove(),this._notice=void 0}},t.prototype._renderNotice=function(e){var i=this._notice;if(i){var n=this._templates.notice(this.config,i.text,i.type);e?e.append(n):this.choiceList.prepend(n)}},t.prototype._getChoiceForOutput=function(e,i){return{id:e.id,highlighted:e.highlighted,labelClass:e.labelClass,labelDescription:e.labelDescription,customProperties:e.customProperties,disabled:e.disabled,active:e.active,label:e.label,placeholder:e.placeholder,value:e.value,groupValue:e.group?e.group.label:void 0,element:e.element,keyCode:i}},t.prototype._triggerChange=function(e){e!=null&&this.passedElement.triggerEvent(ee.change,{value:e})},t.prototype._handleButtonAction=function(e){var i=this,n=this._store.items;if(!(!n.length||!this.config.removeItems||!this.config.removeItemButton)){var r=e&&tn(e.parentElement),o=r&&n.find(function(s){return s.id===r});o&&this._store.withTxn(function(){if(i._removeItem(o),i._triggerChange(o.value),i._isSelectOneElement&&!i._hasNonChoicePlaceholder){var s=(i.config.shouldSort?i._store.choices.reverse():i._store.choices).find(function(a){return a.placeholder});s&&(i._addItem(s),i.unhighlightAll(),s.value&&i._triggerChange(s.value))}})}},t.prototype._handleItemAction=function(e,i){var n=this;i===void 0&&(i=!1);var r=this._store.items;if(!(!r.length||!this.config.removeItems||this._isSelectOneElement)){var o=tn(e);o&&(r.forEach(function(s){s.id===o&&!s.highlighted?n.highlightItem(s):!i&&s.highlighted&&n.unhighlightItem(s)}),this.input.focus())}},t.prototype._handleChoiceAction=function(e){var i=this,n=tn(e),r=n&&this._store.getChoiceById(n);if(!r||r.disabled)return!1;var o=this.dropdown.isActive;if(!r.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){i._addItem(r,!0,!0),i.clearInput(),i.unhighlightAll()}),this._triggerChange(r.value)}return o&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},t.prototype._handleBackspace=function(e){var i=this.config;if(!(!i.removeItems||!e.length)){var n=e[e.length-1],r=e.some(function(o){return o.highlighted});i.editItems&&!r&&n?(this.input.value=n.value,this.input.setWidth(),this._removeItem(n),this._triggerChange(n.value)):(r||this.highlightItem(n,!1),this.removeHighlightedItems(!0))}},t.prototype._loadChoices=function(){var e,i=this,n=this.config;if(this._isTextElement){if(this._presetChoices=n.items.map(function(s){return pe(s,!1)}),this.passedElement.value){var r=this.passedElement.value.split(n.delimiter).map(function(s){return pe(s,!1,i.config.allowHtmlUserInput)});this._presetChoices=this._presetChoices.concat(r)}this._presetChoices.forEach(function(s){s.selected=!0})}else if(this._isSelectElement){this._presetChoices=n.choices.map(function(s){return pe(s,!0)});var o=this.passedElement.optionsAsChoices();o&&(e=this._presetChoices).push.apply(e,o)}},t.prototype._handleLoadingState=function(e){e===void 0&&(e=!0);var i=this.itemList.element;e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?i.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(i.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},t.prototype._handleSearch=function(e){if(this.input.isFocussed)if(e!==null&&typeof e<"u"&&e.length>=this.config.searchFloor){var i=this.config.searchChoices?this._searchChoices(e):0;i!==null&&this.passedElement.triggerEvent(ee.search,{value:e,resultCount:i})}else this._store.choices.some(function(n){return!n.active})&&this._stopSearch()},t.prototype._canAddItems=function(){var e=this.config,i=e.maxItemCount,n=e.maxItemText;return!e.singleModeForMultiSelect&&i>0&&i<=this._store.items.length?(this.choiceList.element.replaceChildren(""),this._notice=void 0,this._displayNotice(typeof n=="function"?n(i):n,X.addChoice),!1):(this._notice&&this._notice.type===X.addChoice&&this._clearNotice(),!0)},t.prototype._canCreateItem=function(e){var i=this.config,n=!0,r="";if(n&&typeof i.addItemFilter=="function"&&!i.addItemFilter(e)&&(n=!1,r=ft(i.customAddItemText,e)),n){var o=this._store.choices.find(function(s){return i.valueComparer(s.value,e)});if(o){if(this._isSelectElement)return this._displayNotice("",X.addChoice),!1;i.duplicateItemsAllowed||(n=!1,r=ft(i.uniqueItemText,e))}}return n&&(r=ft(i.addItemText,e)),r&&this._displayNotice(r,X.addChoice),n},t.prototype._searchChoices=function(e){var i=e.trim().replace(/\s{2,}/," ");if(!i.length||i===this._currentValue)return null;var n=this._searcher;n.isEmptyIndex()&&n.index(this._store.searchableChoices);var r=n.search(i);this._currentValue=i,this._highlightPosition=0,this._isSearching=!0;var o=this._notice,s=o&&o.type;return s!==X.addChoice&&(r.length?this._clearNotice():this._displayNotice(Rr(this.config.noResultsText),X.noResults)),this._store.dispatch(pl(r)),r.length},t.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch(ml(!0)),this.passedElement.triggerEvent(ee.search,{value:"",resultCount:0}))},t.prototype._addEventListeners=function(){var e=this._docRoot,i=this.containerOuter.element,n=this.input.element;e.addEventListener("touchend",this._onTouchEnd,!0),i.addEventListener("keydown",this._onKeyDown,!0),i.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(i.addEventListener("focus",this._onFocus,{passive:!0}),i.addEventListener("blur",this._onBlur,{passive:!0})),n.addEventListener("keyup",this._onKeyUp,{passive:!0}),n.addEventListener("input",this._onInput,{passive:!0}),n.addEventListener("focus",this._onFocus,{passive:!0}),n.addEventListener("blur",this._onBlur,{passive:!0}),n.form&&n.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},t.prototype._removeEventListeners=function(){var e=this._docRoot,i=this.containerOuter.element,n=this.input.element;e.removeEventListener("touchend",this._onTouchEnd,!0),i.removeEventListener("keydown",this._onKeyDown,!0),i.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(i.removeEventListener("focus",this._onFocus),i.removeEventListener("blur",this._onBlur)),n.removeEventListener("keyup",this._onKeyUp),n.removeEventListener("input",this._onInput),n.removeEventListener("focus",this._onFocus),n.removeEventListener("blur",this._onBlur),n.form&&n.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},t.prototype._onKeyDown=function(e){var i=e.keyCode,n=this.dropdown.isActive,r=e.key.length===1||e.key.length===2&&e.key.charCodeAt(0)>=55296||e.key==="Unidentified";switch(!this._isTextElement&&!n&&i!==J.ESC_KEY&&i!==J.TAB_KEY&&i!==J.SHIFT_KEY&&(this.showDropdown(),!this.input.isFocussed&&r&&(this.input.value+=e.key,e.key===" "&&e.preventDefault())),i){case J.A_KEY:return this._onSelectKey(e,this.itemList.element.hasChildNodes());case J.ENTER_KEY:return this._onEnterKey(e,n);case J.ESC_KEY:return this._onEscapeKey(e,n);case J.UP_KEY:case J.PAGE_UP_KEY:case J.DOWN_KEY:case J.PAGE_DOWN_KEY:return this._onDirectionKey(e,n);case J.DELETE_KEY:case J.BACK_KEY:return this._onDeleteKey(e,this._store.items,this.input.isFocussed)}},t.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},t.prototype._onInput=function(){var e=this.input.value;if(!e){this._isTextElement?this.hideDropdown(!0):this._stopSearch();return}this._canAddItems()&&(this._canSearch&&this._handleSearch(e),this._canAddUserChoices&&(this._canCreateItem(e),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice())))},t.prototype._onSelectKey=function(e,i){if((e.ctrlKey||e.metaKey)&&i){this._canSearch=!1;var n=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;n&&this.highlightAll()}},t.prototype._onEnterKey=function(e,i){var n=this,r=this.input.value,o=e.target;if(e.preventDefault(),o&&o.hasAttribute("data-button")){this._handleButtonAction(o);return}if(!i){(this._isSelectElement||this._notice)&&this.showDropdown();return}var s=this.dropdown.element.querySelector(et(this.config.classNames.highlightedState));if(!(s&&this._handleChoiceAction(s))){if(!o||!r){this.hideDropdown(!0);return}if(this._canAddItems()){var a=!1;this._store.withTxn(function(){if(a=n._findAndSelectChoiceByValue(r,!0),!a){if(!n._canAddUserChoices||!n._canCreateItem(r))return;n._addChoice(pe(r,!1,n.config.allowHtmlUserInput),!0,!0),a=!0}n.clearInput(),n.unhighlightAll()}),a&&(this._triggerChange(r),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}},t.prototype._onEscapeKey=function(e,i){i&&(e.stopPropagation(),this.hideDropdown(!0),this._stopSearch(),this.containerOuter.element.focus())},t.prototype._onDirectionKey=function(e,i){var n=e.keyCode;if(i||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var r=n===J.DOWN_KEY||n===J.PAGE_DOWN_KEY?1:-1,o=e.metaKey||n===J.PAGE_DOWN_KEY||n===J.PAGE_UP_KEY,s=void 0;if(o)r>0?s=this.dropdown.element.querySelector("".concat(tt,":last-of-type")):s=this.dropdown.element.querySelector(tt);else{var a=this.dropdown.element.querySelector(et(this.config.classNames.highlightedState));a?s=yl(a,tt,r):s=this.dropdown.element.querySelector(tt)}s&&(_l(s,this.choiceList.element,r)||this.choiceList.scrollToChildElement(s,r),this._highlightChoice(s)),e.preventDefault()}},t.prototype._onDeleteKey=function(e,i,n){!this._isSelectOneElement&&!e.target.value&&n&&(this._handleBackspace(i),e.preventDefault())},t.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},t.prototype._onTouchEnd=function(e){var i=(e||e.touches[0]).target,n=this._wasTap&&this.containerOuter.element.contains(i);if(n){var r=i===this.containerOuter.element||i===this.containerInner.element;r&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0},t.prototype._onMouseDown=function(e){var i=e.target;if(i instanceof HTMLElement){if(Pc&&this.choiceList.element.contains(i)){var n=this.choiceList.element.firstElementChild;this._isScrollingOnIe=this._direction==="ltr"?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft}if(i!==this.input.element){var r=i.closest("[data-button],[data-item],[data-choice]");r instanceof HTMLElement&&("button"in r.dataset?this._handleButtonAction(r):"item"in r.dataset?this._handleItemAction(r,e.shiftKey):"choice"in r.dataset&&this._handleChoiceAction(r)),e.preventDefault()}}},t.prototype._onMouseOver=function(e){var i=e.target;i instanceof HTMLElement&&"choice"in i.dataset&&this._highlightChoice(i)},t.prototype._onClick=function(e){var i=e.target,n=this.containerOuter,r=n.element.contains(i);r?!this.dropdown.isActive&&!n.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),n.element.focus()):this._isSelectOneElement&&i!==this.input.element&&!this.dropdown.element.contains(i)&&this.hideDropdown():(n.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},t.prototype._onFocus=function(e){var i=e.target,n=this.containerOuter,r=i&&n.element.contains(i);if(r){var o=i===this.input.element;this._isTextElement?o&&n.addFocusState():this._isSelectMultipleElement?o&&(this.showDropdown(!0),n.addFocusState()):(n.addFocusState(),o&&this.showDropdown(!0))}},t.prototype._onBlur=function(e){var i=e.target,n=this.containerOuter,r=i&&n.element.contains(i);r&&!this._isScrollingOnIe?i===this.input.element?(n.removeFocusState(),this.hideDropdown(!0),(this._isTextElement||this._isSelectMultipleElement)&&this.unhighlightAll()):i===this.containerOuter.element&&(n.removeFocusState(),this._canSearch||this.hideDropdown(!0)):(this._isScrollingOnIe=!1,this.input.element.focus())},t.prototype._onFormReset=function(){var e=this;this._store.withTxn(function(){e.clearInput(),e.hideDropdown(),e.refresh(!1,!1,!0),e._initialItems.length&&e.setChoiceByValue(e._initialItems)})},t.prototype._highlightChoice=function(e){e===void 0&&(e=null);var i=Array.from(this.dropdown.element.querySelectorAll(tt));if(i.length){var n=e,r=this.config.classNames.highlightedState,o=Array.from(this.dropdown.element.querySelectorAll(et(r)));o.forEach(function(s){me(s,r),s.setAttribute("aria-selected","false")}),n?this._highlightPosition=i.indexOf(n):(i.length>this._highlightPosition?n=i[this._highlightPosition]:n=i[i.length-1],n||(n=i[0])),I(n,r),n.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(ee.highlightChoice,{el:n}),this.dropdown.isActive&&(this.input.setActiveDescendant(n.id),this.containerOuter.setActiveDescendant(n.id))}},t.prototype._addItem=function(e,i,n){if(i===void 0&&(i=!0),n===void 0&&(n=!1),!e.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(e.id),this._store.dispatch(Mr(e)),i&&(this.passedElement.triggerEvent(ee.addItem,this._getChoiceForOutput(e)),n&&this.passedElement.triggerEvent(ee.choice,this._getChoiceForOutput(e)))},t.prototype._removeItem=function(e){if(e.id){this._store.dispatch(Nr(e));var i=this._notice;i&&i.type===X.noChoices&&this._clearNotice(),this.passedElement.triggerEvent(ee.removeItem,this._getChoiceForOutput(e))}},t.prototype._addChoice=function(e,i,n){if(i===void 0&&(i=!0),n===void 0&&(n=!1),e.id)throw new TypeError("Can not re-add a choice which has already been added");var r=this.config;if(!(!r.duplicateItemsAllowed&&this._store.choices.find(function(a){return r.valueComparer(a.value,e.value)}))){this._lastAddedChoiceId++,e.id=this._lastAddedChoiceId,e.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(e.id);var o=r.prependValue,s=r.appendValue;o&&(e.value=o+e.value),s&&(e.value+=s.toString()),(o||s)&&e.element&&(e.element.value=e.value),this._clearNotice(),this._store.dispatch(Pr(e)),e.selected&&this._addItem(e,i,n)}},t.prototype._addGroup=function(e,i){var n=this;if(i===void 0&&(i=!0),e.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(gl(e)),e.choices&&(this._lastAddedGroupId++,e.id=this._lastAddedGroupId,e.choices.forEach(function(r){r.group=e,e.disabled&&(r.disabled=!0),n._addChoice(r,i)}))},t.prototype._createTemplates=function(){var e=this,i=this.config.callbackOnCreateTemplates,n={};typeof i=="function"&&(n=i.call(this,wl,Cn,ti));var r={};Object.keys(this._templates).forEach(function(o){o in n?r[o]=n[o].bind(e):r[o]=e._templates[o].bind(e)}),this._templates=r},t.prototype._createElements=function(){var e=this._templates,i=this,n=i.config,r=i._isSelectOneElement,o=n.position,s=n.classNames,a=this._elementType;this.containerOuter=new jr({element:e.containerOuter(n,this._direction,this._isSelectElement,r,n.searchEnabled,a,n.labelId),classNames:s,type:a,position:o}),this.containerInner=new jr({element:e.containerInner(n),classNames:s,type:a,position:o}),this.input=new Ol({element:e.input(n,this._placeholderValue),classNames:s,type:a,preventPaste:!n.paste}),this.choiceList=new Br({element:e.choiceList(n,r)}),this.itemList=new Br({element:e.itemList(n,r)}),this.dropdown=new xl({element:e.dropdown(n),classNames:s,type:a})},t.prototype._createStructure=function(){var e=this,i=e.containerInner,n=e.containerOuter,r=e.passedElement,o=this.dropdown.element;r.conceal(),i.wrap(r.element),n.wrap(i.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),n.element.appendChild(i.element),n.element.appendChild(o),i.element.appendChild(this.itemList.element),o.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&o.insertBefore(this.input.element,o.firstChild):i.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},t.prototype._initStore=function(){var e=this;this._store.subscribe(this._render).withTxn(function(){e._addPredefinedChoices(e._presetChoices,e._isSelectOneElement&&!e._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},t.prototype._addPredefinedChoices=function(e,i,n){var r=this;if(i===void 0&&(i=!1),n===void 0&&(n=!0),i){var o=e.findIndex(function(s){return s.selected})===-1;o&&e.some(function(s){return s.disabled||"choices"in s?!1:(s.selected=!0,!0)})}e.forEach(function(s){"choices"in s?r._isSelectElement&&r._addGroup(s,n):r._addChoice(s,n)})},t.prototype._findAndSelectChoiceByValue=function(e,i){var n=this;i===void 0&&(i=!1);var r=this._store.choices.find(function(o){return n.config.valueComparer(o.value,e)});return r&&!r.disabled&&!r.selected?(this._addItem(r,!0,i),!0):!1},t.prototype._generatePlaceholderValue=function(){var e=this.config;if(!e.placeholder)return null;if(this._hasNonChoicePlaceholder)return e.placeholderValue;if(this._isSelectElement){var i=this.passedElement.placeholderOption;return i?i.text:null}return null},t.prototype._warnChoicesInitFailed=function(e){if(!this.config.silent)if(this.initialised){if(!this.initialisedOK)throw new TypeError("".concat(e," called for an element which has multiple instances of Choices initialised on it"))}else throw new TypeError("".concat(e," called on a non-initialised instance of Choices"))},t.version="11.1.0",t}();const Fc=(t,{expression:e},{evaluate:i})=>{const n=i(e);t.choices=new Nc(n.selectEl,n.options)},Rc=(t,{},{cleanup:e})=>{const i=n=>{n.keyCode===13&&n.preventDefault()};t.addEventListener("keydown",i),e(()=>{t.removeEventListener("click",i)})},jc=t=>({selection:t.selection||[],options:t.options||[],grouped:t.grouped||!1,showingSelectBox:!1,searchTerm:"",get filteredOptions(){return this.grouped?this.options.map(e=>{const i={...e};return i.choices=e.choices.filter(n=>!this.rawSelection.some(r=>n.value.toString()===r.toString())),i}):this.options.filter(e=>!this.rawSelection.some(i=>e.value.toString()===i.toString()))},init(){this.$nextTick(()=>{this.updateSelectOptions(),!this.rawSelection||this.rawSelection.length===0?this.showSelectBox():this.hideSelectBox(),this.hideSelectBoxWhenUnfocused(),this.preserveSearchTerm()})},get rawSelection(){return this.selection?this.selection:[]},get selectedOptions(){return this.rawSelection.map(e=>this.findOptionByValue(e))},findOptionByValue(e){if(this.grouped){for(const i of this.options){const n=i.choices.find(r=>r.value.toString()===e.toString());if(n!==void 0)return n}return console.error("No option found for value",e),null}return this.options.find(i=>i.value.toString()===e.toString())},addItem(){this.selection=[...this.rawSelection,...this.$el.choices.getValue(!0)],this.onSelectionChange()},removeItem(e){const i=this.rawSelection.findIndex(n=>n.toString()===e.toString());i!==-1&&(this.rawSelection.splice(i,1),this.onSelectionChange())},sortSelection(e){this.selection=e,this.onSelectionChange()},onSelectionChange(){this.$dispatch("select-list-change"),this.$dispatch("input",this.rawSelection),this.updateSelectOptions()},updateSelectOptions(){this.$el.choices.clearStore(),this.$el.choices.setChoices(this.filteredOptions)},get allowSelectBox(){return this.filteredOptions.length>0},showSelectBox(){this.$el.choices.containerOuter.element.classList.remove("hidden"),this.$el.choices.input.element.focus(),this.showingSelectBox=!0},hideSelectBox(){this.rawSelection.length>0&&(this.$el.choices.containerOuter.element.classList.add("hidden"),this.showingSelectBox=!1),this.resetSearchTerm()},resetSearchTerm(){this.searchTerm="",this.$el.choices.clearInput()},forceSearch(e){this.$el.choices.input.element.value=e,this.$el.choices.input.setWidth(),this.$el.choices._searchChoices(e)},hideSelectBoxWhenUnfocused(){this.$el.choices.input.element.addEventListener("focusout",()=>{this.hideSelectBox()})},preserveSearchTerm(){this.$el.addEventListener("search",e=>{this.searchTerm=e.detail.value}),this.$el.addEventListener("addItem",()=>{setTimeout(()=>{this.searchTerm&&this.forceSearch(this.searchTerm)},0)})}}),Bc=t=>({activeTab:t.activeTab,dispatchTab:t.dispatchTab,shouldListenForExternalTab:t.shouldListenForExternalTab,reference:t.reference,showNav:t.showNav,showTabs:t.showTabs,tabs:[],init(){this.tabs=Array.from(this.$refs.tabs.children).map(e=>({id:e.getAttribute("data-tab-id"),label:JSON.parse(e.getAttribute("data-tab-label"))})),this.activeTab||(this.activeTab=this.tabs.length>0?this.tabs[0].id:null),this.repositionTabMarker(),this.shouldListenForExternalTab&&window.addEventListener("chieftab",e=>{this.listenForExternalTab(e)}),this.onVisible(this.$root,()=>{this.$nextTick(()=>{this.repositionTabMarker()})})},listenForExternalTab(e){this.shouldListenForExternalTab&&this.activeTab!==e.detail.id&&(this.tabs.forEach(({id:i})=>{i===e.detail.id&&(this.activeTab=e.detail.id)}),this.repositionTabMarker())},showTab(e){this.activeTab=e,this.dispatchTab&&(this.$dispatch("chieftab",{id:e,reference:this.reference}),this.repositionTabMarker())},repositionTabMarker(){this.$nextTick(()=>{const e=Array.from(this.$root.querySelectorAll('[role="tablist"] [role="tab"]')).find(i=>i.getAttribute("aria-selected")==="true");e&&(this.$refs.tabMarker.style.width=`${e.offsetWidth}px`,this.$refs.tabMarker.style.left=`${e.offsetLeft}px`)})},onVisible(e,i){new IntersectionObserver((n,r)=>{n.forEach(o=>{o.intersectionRatio>0&&(i(e),r.disconnect())})}).observe(e)}}),qc=t=>({endpoint:"/admin/hive/suggest",payload:t.payload||{},wireModel:t.wireModel,dialogId:t.dialogId,loading:!1,text:null,suggestions:[],async prompt(e=null){this.loading=!0;try{const n=await(await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({prompt:e,text:this.text,payload:this.payload})})).json();n.suggestions&&(this.suggestions=n.suggestions,this.$dispatch("open-dialog",{id:this.dialogId}))}catch(i){console.error("Hive suggestie mislukt",i)}finally{this.loading=!1}},applySuggestion(e){this.$wire.set(this.wireModel,e),this.suggestions=[],this.$dispatch("close-dialog",{id:this.dialogId})}});class $c{constructor(e,i,n={}){this.container=e,this.toggles=i,!(!this.container&&this.toggles.length===0)&&(this.isOpen=!1,this.onOpen=n.onOpen||function(){},this.onClose=n.onClose||function(){},this.animationClasses=n.animationClasses||["animate-slide-in-nav"],this._init())}_init(){this.toggles.forEach(e=>{e.addEventListener("click",()=>{this._toggle()})})}open(){this._open(),this.isOpen=!0}_toggle(){this.isOpen?this._close():this._open(),this.isOpen=!this.isOpen}_open(){this.container.classList.remove("hidden"),this.onOpen()}_close(){this.container.style.animationDirection="reverse",this.animationClasses.forEach(i=>{this.container.classList.remove(i)}),this.container.offsetWidth,this.animationClasses.forEach(i=>{this.container.classList.add(i)});const e=()=>{this.container.classList.add("hidden"),this.container.style.animationDirection="normal",this.container.removeEventListener("animationend",e),this.onClose()};this.container.addEventListener("animationend",e)}}const Hc=(t="[data-mobile-navigation]",e="[data-toggle-mobile-navigation]",i={})=>{const n=document.querySelector(t),r=Array.from(document.querySelectorAll(e));new $c(n,r,i)};window.addEventListener("DOMContentLoaded",()=>{Hc("[data-mobile-navigation]","[data-mobile-navigation-toggle]",{animationClass:"animate-slide-in-nav lg:animate-none"})});window.Alpine.data("buttonGroup",pa);window.Alpine.data("dialog",ga);window.Alpine.data("dropdown",ul);window.Alpine.data("selectlist",jc);window.Alpine.data("tabs",Bc);window.Alpine.data("hiveAssistant",qc);window.Alpine.directive("multiselect",Fc);window.Alpine.directive("prevent-submit-on-enter",Rc);window.Alpine.directive("copy",ma);
