/*! For license information please see native.js.LICENSE.txt */
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}({"+8Mk":function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"a",(function(){return r}));var r=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Sidebar container element does not exist in DOM.");this.containerEl=t,this.el=this._createDomElement(),this.sidebarBackdrop=this.el.querySelector("[data-sidebar-backdrop]"),this.sidebarAside=this.el.querySelector("[data-sidebar-aside]"),this.sidebarContent=this.el.querySelector("[data-sidebar-content]"),this.closeButton=this.el.querySelector("[data-sidebar-close-button]"),this.closeTriggers=Array.from(this.el.querySelectorAll("[data-sidebar-close]")),this._closeWithEscape()}var t,n,r;return t=e,(n=[{key:"_createDomElement",value:function(){var e=document.querySelector("#js-sidebar-template"),t=document.importNode(e.content,!0),n=t.firstElementChild;return this.containerEl.appendChild(t),n}},{key:"dom",value:function(){return this.sidebarContent}},{key:"open",value:function(){this.el.style.display="block"}},{key:"isOpen",value:function(){return"block"===this.el.style.display}},{key:"close",value:function(){var e=this;Promise.all([this._closeElement(this.sidebarBackdrop,"sidebar-bg-fade-in"),this._closeElement(this.sidebarAside,"sidebar-slide-from-right")]).then((function(){e.el.style.display="none"})).catch((function(e){console.error(e)}))}},{key:"renderCloseButton",value:function(){var e=document.querySelector("#js-sidebar-close-button"),t=document.importNode(e.content,!0);this.closeButton.innerHTML="",this.closeButton.appendChild(t)}},{key:"_closeWithEscape",value:function(){var e=this;window.addEventListener("keydown",(function(t){e.isOpen()&&"Escape"===t.key&&e.close()}))}},{key:"_closeElement",value:function(e,t){return new Promise((function(n,o){try{e.style.animationDirection="reverse",e.classList.remove(t),e.offsetWidth,e.classList.add(t),e.addEventListener("animationend",(function t(){e.style.animationDirection="normal",e.removeEventListener("animationend",t),n()}))}catch(e){o(e)}}))}}])&&o(t.prototype,n),r&&o(t,r),e}()},1:function(e,t,n){e.exports=n("QwXD")},"1bm+":function(e,t){var n,o={},r=(n=0,function(){return n+=1});e.exports={publish:function(e,t){o[e]&&Object.keys(o[e]).forEach((function(n){return o[e][n](t)}))},subscribe:function(e,t){var n=r();return o[e]||(o[e]={}),o[e][n]=t,{unsubscribe:function(){delete o[e][n],0===Object.keys(o[e]).length&&delete o[e]}}}}},QwXD:function(e,t,n){"use strict";n.r(t);var o=n("rIjE");n("chid"),document.getElementById("js-sortable")&&new o.a({isSorting:document.getElementById("js-sortable").hasAttribute("data-sort-on-load"),endpoint:document.getElementById("js-sortable").getAttribute("data-sort-route")}),n("eQMt"),n("hoHX"),n("kE/Q")},a0PV:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("hMcY");function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.url=n,this.parent=o,this.el=r}var t,n,o;return t=e,(n=[{key:"show",value:function(){this.el.style.display="block"}},{key:"hide",value:function(){this.el.style.display="none"}},{key:"replaceComponent",value:function(e,t){this.el.querySelector(e).innerHTML=t}},{key:"remove",value:function(){this.el.remove()}}])&&r(t.prototype,n),o&&r(t,o),e}();function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.collection=[],this.activePanel=null}var t,n,o;return t=e,(n=[{key:"find",value:function(e){return this.collection.find((function(t){return t.id===e}))}},{key:"findActive",value:function(){return this.activePanel}},{key:"markAsActive",value:function(e){this.activePanel=this.find(e)}},{key:"add",value:function(e){this.collection.push(e)}},{key:"remove",value:function(e){var t=this.collection.findIndex((function(t){return t.id===e}));this.collection[t].remove(),this.collection.splice(t,1)}},{key:"clear",value:function(){this.collection.forEach((function(e){return e.remove()})),this.collection=[],this.activePanel=null}},{key:"createId",value:function(e){return encodeURIComponent(e)}}])&&a(t.prototype,n),o&&a(t,o),e}(),s=n("1bm+"),c=n.n(s);function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.triggerSelector=t,this.container=n,this.panels=new l,this.onNewPanel=o.onNewPanel||null,this.onSubmitPanel=o.onSubmitPanel||null,this.onFail=o.onFail||null,this.events=o.events||{},this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this;this.handle=function(t){return e._handlePanelTrigger(t)},this.scanForPanelTriggers(),this.container.closeTriggers.forEach((function(t){t.addEventListener("click",e.backOrClose.bind(e))})),Object.keys(this.events).forEach((function(t){c.a.subscribe(t,e.events[t])}))}},{key:"scanForPanelTriggers",value:function(){var e=this;Array.from(document.querySelectorAll(this.triggerSelector)).forEach((function(t){t.removeEventListener("click",e.handle),t.addEventListener("click",e.handle)}))}},{key:"_handlePanelTrigger",value:function(e){e.preventDefault();var t=e.target.hasAttribute("href")?e.target:e.target.closest("[href]");t&&this.show(t.getAttribute("href"))}},{key:"show",value:function(e){var t=this.panels.createId(e);this.panels.find(t)?this._activate(t):this._activateNewPanel(t,e)}},{key:"_activateNewPanel",value:function(e,t){var n=this,r=document.createElement("div");r.setAttribute("data-panel-id",e),this.container.dom().appendChild(r),o.a.get(t,r,(function(a){r.innerHTML=a,Array.from(r.querySelectorAll("[data-vue-fields]")).forEach((function(e){new window.Vue({el:e})}));var l=new Event("chief::newpanel");window.dispatchEvent(l),o.a.listenForFormSubmits(r,(function(e){console.log(e),console.log("SUCCESS"),n.backOrClose(!1),n.onSubmitPanel&&n.onSubmitPanel()}),(function(e){console.log(e),console.log("ERROR"),n.showError(e)})),n.container.isOpen()||n.container.open(),n.panels.add(new i(e,t,n.panels.findActive()?n.panels.findActive():null,r)),n._activate(e),n.onNewPanel&&n.onNewPanel(n.panels.find(e))}))}},{key:"_activate",value:function(e){this.panels.findActive()&&this.panels.findActive().hide(),this.panels.markAsActive(e),this.panels.findActive().show(),this.container.renderCloseButton(),this.scanForPanelTriggers()}},{key:"showError",value:function(e){console.log("showing error: "+e)}},{key:"backOrClose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.panels.findActive().parent){var t=this.panels.findActive().id;return this.show(this.panels.findActive().parent.url),this.replacePanelComponents(),void(e||this.panels.remove(t))}this.panels.clear(),this.container.close()}},{key:"replacePanelComponents",value:function(){var e=this;Array.from(this.panels.findActive().el.querySelectorAll("[data-sidebar-component]")).forEach((function(t){var n=t.getAttribute("data-sidebar-component");o.a.get(e.panels.findActive().url,t,(function(t){var o=document.createElement("div");o.innerHTML=t,e.panels.activePanel.replaceComponent('[data-sidebar-component="'+n+'"]',o.querySelector('[data-sidebar-component="'+n+'"]').innerHTML),e.scanForPanelTriggers()}))}))}}])&&u(t.prototype,n),r&&u(t,r),e}()},chid:function(e,t){for(var n=document.querySelectorAll("[data-submit-form]"),o=0;o<n.length;o++)n[o].addEventListener("click",(function(){document.getElementById(this.getAttribute("data-submit-form")).submit()}),!1)},eQMt:function(e,t,n){"use strict";n.r(t);var o=n("+8Mk"),r=n("a0PV"),i=n("rIjE"),a=n("hMcY"),l=n("1bm+"),s=n.n(l);function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t||document,this.postActionAttribute="data-fragments-add",this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this;this.handle=function(t){return e._handleTrigger(t)},s.a.subscribe("fragment-new",(function(t){console.log("selection..."),e._scanForTriggersIn(t)})),s.a.subscribe("fragments-new-panel",(function(t){console.log("panel...",t),e._scanForTriggersIn(t.el)})),this.scanForTriggers()}},{key:"scanForTriggers",value:function(){this._scanForTriggersIn(this.container)}},{key:"_scanForTriggersIn",value:function(e){var t=this;console.log(e),console.log(this.postActionAttribute,e.querySelectorAll("[".concat(this.postActionAttribute,"]"))),Array.from(e.querySelectorAll("[".concat(this.postActionAttribute,"]"))).forEach((function(e){e.removeEventListener("click",t.handle),e.addEventListener("click",t.handle)}))}},{key:"_handleTrigger",value:function(e){var t=this;e.preventDefault();var n=e.target.hasAttribute(this.postActionAttribute)?e.target:e.target.closest("[".concat(this.postActionAttribute,"]")),o=n?n.getAttribute(this.postActionAttribute):null;console.log(o),o&&a.a.submit("POST",o,{},(function(e){t.scanForTriggers(),s.a.publish("fragment-add",e)}))}}])&&c(t.prototype,n),o&&c(t,o),e}();function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.fragmentsContainer=n,this.fragmentSelector="[data-fragment]",this.triggerSelector="[data-fragments-new-trigger]",this.selectionSelector="[data-fragments-new-selection]",this._init()}var t,n,o;return t=e,(n=[{key:"_init",value:function(){var e=this;this._addTriggerElements(),this._activateTriggerElements(),["sortable-stored","fragments-reloaded"].forEach((function(t){s.a.subscribe(t,(function(){e._removeTriggerElements(),e._addTriggerElements(),e._activateTriggerElements()}))})),s.a.subscribe("fragments-new-panel",(function(t){e._passNewFragmentOrderToPanel(t)})),this._onlyShowClosestTriggerElement()}},{key:"_createTriggerElement",value:function(){return document.querySelector("#js-fragment-add-template").firstElementChild.cloneNode(!0)}},{key:"_createSelectionElement",value:function(){return document.querySelector("#js-fragment-selection-template").firstElementChild.cloneNode(!0)}},{key:"_addTriggerElements",value:function(){var e=this,t=Array.from(this.fragmentsContainer.querySelectorAll(this.fragmentSelector));t.forEach((function(n,o){var r=e._createTriggerElement();if(e.fragmentsContainer.insertBefore(r,n),o===t.length-1){var i=e._createTriggerElement();e.fragmentsContainer.insertBefore(i,n.nextSibling)}}))}},{key:"_removeTriggerElements",value:function(){Array.from(this.fragmentsContainer.querySelectorAll(this.triggerSelector)).forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"_activateTriggerElements",value:function(){var e=this;Array.from(this.fragmentsContainer.querySelectorAll(this.triggerSelector)).forEach((function(t){e._activateTriggerElement(t)}))}},{key:"_activateTriggerElement",value:function(e){var t=this;e.addEventListener("click",(function(){var n=t._createSelectionElement(),o=t.fragmentsContainer.querySelector(t.selectionSelector);if(o){var r=t._createTriggerElement();t._activateTriggerElement(r),o.parentNode.insertBefore(r,o),o.parentNode.removeChild(o)}e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),s.a.publish("fragment-new",e)}))}},{key:"_onlyShowClosestTriggerElement",value:function(){var e=this;Array.from(this.fragmentsContainer.querySelectorAll(this.fragmentSelector)).forEach((function(t){t.addEventListener("mouseover",(function(n){var o=t.getBoundingClientRect(),r=o.top+(o.bottom-o.top)/2;if(e._hideAllTriggerElements(),r>n.clientY){var i=e._getPreviousSiblingElement(t,e.triggerSelector);if(!i)return;e._showTriggerElement(i)}else{var a=e._getNextSiblingElement(t,e.triggerSelector);if(!a)return;e._showTriggerElement(a)}}))}))}},{key:"_hideAllTriggerElements",value:function(){var e=this;Array.from(this.fragmentsContainer.querySelectorAll(this.triggerSelector)).forEach((function(t){e._hideTriggerElement(t)}))}},{key:"_hideTriggerElement",value:function(e){e.children[0].style.transform="scale(0)"}},{key:"_showTriggerElement",value:function(e){e.children[0].style.transform="scale(1)"}},{key:"_getPreviousSiblingElement",value:function(e,t){for(var n=e.previousElementSibling;n&&!n.matches(t);)n=n.previousElementSibling;return n}},{key:"_getNextSiblingElement",value:function(e,t){for(var n=e.nextElementSibling;n&&!n.matches(t);)n=n.nextElementSibling;return n}},{key:"_passNewFragmentOrderToPanel",value:function(e){var t=this.fragmentsContainer.querySelector(this.selectionSelector);if(t){var n=this._getSelectionElementOrder(t);e.el.querySelector('input[name="order"]')&&(e.el.querySelector('input[name="order"]').value=n)}}},{key:"_getSelectionElementOrder",value:function(e){var t=this,n=this._getNextSiblingElement(e,this.fragmentSelector),o=Array.from(this.fragmentsContainer.children).filter((function(e){return e.matches(t.fragmentSelector)})),r=o.length;return o.forEach((function(e,t){e!==n||(r=t)})),r}}])&&d(t.prototype,n),o&&d(t,o),e}();function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#js-sidebar-container"),t=document.querySelector("[data-fragments-component]"),n=t.querySelector("[data-fragments-container]");if(e&&t&&n){new h(document,n),new u(document);var a=new r.a("[data-sidebar-fragments-edit]",new o.a(e),{onNewPanel:function(e){s.a.publish("fragments-new-panel",e)},onSubmitPanel:function(){s.a.publish("fragments-submit-panel")},events:{"fragment-new":function(){a.scanForPanelTriggers()},"fragment-add":function(){a.replacePanelComponents()},"fragments-reloaded":function(){a.scanForPanelTriggers()}}}),l=window.Livewire.find(t.getAttribute("wire:id"));s.a.subscribe("fragment-add",(function(){l.reload()})),s.a.subscribe("fragments-submit-panel",(function(){l.reload()})),window.Livewire.on("fragmentsReloaded",(function(){s.a.publish("fragments-reloaded")})),s.a.subscribe("fragments-new-panel",(function(e){c("[data-sortable-fragments]",e.el)})),s.a.subscribe("fragments-submit-panel",(function(){c()})),c()}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-sortable-fragments]",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.from(t.querySelectorAll(e)).forEach((function(e){new i.a(g(g({},{sortableGroupEl:e,endpoint:e.getAttribute("data-sortable-endpoint"),handle:"[data-sortable-handle]",isSorting:!0}),n))}))}}))},hMcY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={get:function(e,t,n,o){fetch(e).then((function(e){return e.text()})).then((function(e){n&&n(e)})).catch((function(e){o&&o(e),console.error(e)}))},submit:function(e,t,n,o,r){fetch(t,{method:e,body:n}).then((function(e){return e.json()})).then((function(e){o&&o(e)})).catch((function(e){r&&r(e)}))},listenForFormSubmits:function(e,t,n){var o=e.querySelector("form"),r=this;o&&o.addEventListener("submit",(function(e){e.preventDefault(),r.submit(this.method,this.action,new FormData(this),t,n)}))}}},hoHX:function(e,t,n){"use strict";n.r(t);var o=n("+8Mk"),r=n("a0PV");document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#js-sidebar-container"),t=document.querySelector("[data-links-component]"),n=window.Livewire.find(t.getAttribute("wire:id")),i=new r.a("[data-sidebar-links-edit]",new o.a(e),{onSubmitPanel:function(){n.reload()},events:{}});window.Livewire.on("linksReloaded",(function(){i.scanForPanelTriggers()}))}))},"kE/Q":function(e,t,n){"use strict";n.r(t);var o=n("+8Mk"),r=n("a0PV");document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#js-sidebar-container"),t=document.querySelectorAll("[data-fields-component]");Array.from(t).forEach((function(t){var n=window.Livewire.find(t.getAttribute("wire:id")),i=new r.a("["+t.getAttribute("data-fields-component")+"]",new o.a(e),{onSubmitPanel:function(){n.reload()},events:{}});window.Livewire.on("fieldsComponentReloaded",(function(){i.scanForPanelTriggers()}))}))}))},rIjE:function(e,t,n){"use strict";n.d(t,"a",(function(){return lt}));var o=n("1bm+"),r=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){a(e,t,n[t])}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var d=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),h=u(/Edge/i),f=u(/firefox/i),g=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),p=u(/iP(ad|od|hone)/i),v=u(/chrome/i)&&u(/android/i),m={capture:!1,passive:!1};function b(e,t,n){e.addEventListener(t,n,!d&&m)}function y(e,t,n){e.removeEventListener(t,n,!d&&m)}function w(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function E(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function S(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&w(e,t):w(e,t))||o&&e===n)return e;if(e===n)break}while(e=E(e))}return null}var _,T=/\s+/g;function A(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(T," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(T," ")}}function C(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function D(e,t){var n="";if("string"==typeof e)n=e;else do{var o=C(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function k(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function P(){var e=document.scrollingElement;return e||document.documentElement}function O(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var i,a,l,s,c,u,h;if(e!==window&&e.parentNode&&e!==P()?(a=(i=e.getBoundingClientRect()).top,l=i.left,s=i.bottom,c=i.right,u=i.height,h=i.width):(a=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!d))do{if(r&&r.getBoundingClientRect&&("none"!==C(r,"transform")||n&&"static"!==C(r,"position"))){var f=r.getBoundingClientRect();a-=f.top+parseInt(C(r,"border-top-width")),l-=f.left+parseInt(C(r,"border-left-width")),s=a+i.height,c=l+i.width;break}}while(r=r.parentNode);if(o&&e!==window){var g=D(r||e),p=g&&g.a,v=g&&g.d;g&&(s=(a/=v)+(u/=v),c=(l/=p)+(h/=p))}return{top:a,left:l,bottom:s,right:c,width:h,height:u}}}function x(e,t,n){for(var o=L(e,!0),r=O(e)[t];o;){var i=O(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===P())break;o=L(o,!1)}return!1}function N(e,t,n){for(var o=0,r=0,i=e.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==Re.ghost&&i[r]!==Re.dragged&&S(i[r],n.draggable,e,!1)){if(o===t)return i[r];o++}r++}return null}function M(e,t){for(var n=e.lastElementChild;n&&(n===Re.ghost||"none"===C(n,"display")||t&&!w(n,t));)n=n.previousElementSibling;return n||null}function I(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Re.clone||t&&!w(e,t)||n++;return n}function j(e){var t=0,n=0,o=P();if(e)do{var r=D(e),i=r.a,a=r.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function L(e,t){if(!e||!e.getBoundingClientRect)return P();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=C(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return P();if(o||t)return n;o=!0}}}while(n=n.parentNode);return P()}function F(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function B(e,t){return function(){if(!_){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),_=setTimeout((function(){_=void 0}),t)}}}function R(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function q(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var X="Sortable"+(new Date).getTime();function Y(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==C(e,"display")&&e!==Re.ghost){t.push({target:e,rect:O(e)});var n=s({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=D(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,l=O(n),s=n.prevFromRect,c=n.prevToRect,u=e.rect,d=D(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&F(s,l)&&!F(a,l)&&(u.top-l.top)/(u.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(t=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(u,s,c,o.options)),F(l,a)||(n.prevFromRect=a,n.prevToRect=l,t||(t=o.options.animation),o.animate(n,u,l,t)),t&&(r=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){C(e,"transition",""),C(e,"transform","");var r=D(this.el),i=r&&r.a,a=r&&r.d,l=(t.left-n.left)/(i||1),s=(t.top-n.top)/(a||1);e.animatingX=!!l,e.animatingY=!!s,C(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),C(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),C(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){C(e,"transition",""),C(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}var H=[],W={initializeByDefault:!0},z={mount:function(e){for(var t in W)W.hasOwnProperty(t)&&!(t in e)&&(e[t]=W[t]);H.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),H.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";H.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](s({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](s({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in H.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var i=new o(e,t,e.options);i.sortable=e,i.options=e.options,e[r]=i,l(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);void 0!==i&&(e.options[r]=i)}},getEventProperties:function(e,t){var n={};return H.forEach((function(o){"function"==typeof o.eventProperties&&l(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return H.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};function G(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,i=e.cloneEl,a=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,f=e.oldDraggableIndex,g=e.newDraggableIndex,p=e.originalEvent,v=e.putSortable,m=e.extraEventProperties;if(t=t||n&&n[X]){var b,y=t.options,w="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||d||h?(b=document.createEvent("Event")).initEvent(o,!0,!0):b=new CustomEvent(o,{bubbles:!0,cancelable:!0}),b.to=a||n,b.from=l||n,b.item=r||n,b.clone=i,b.oldIndex=c,b.newIndex=u,b.oldDraggableIndex=f,b.newDraggableIndex=g,b.originalEvent=p,b.pullMode=v?v.lastPutMode:void 0;var E=s({},m,z.getEventProperties(o,t));for(var S in E)b[S]=E[S];n&&n.dispatchEvent(b),y[w]&&y[w].call(t,b)}}var V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=c(n,["evt"]);z.pluginEvent.bind(Re)(e,t,s({dragEl:U,parentEl:$,ghostEl:Z,rootEl:J,nextEl:K,lastDownEl:ee,cloneEl:te,cloneHidden:ne,dragStarted:pe,putSortable:se,activeSortable:Re.active,originalEvent:o,oldIndex:oe,oldDraggableIndex:ie,newIndex:re,newDraggableIndex:ae,hideGhostForTarget:je,unhideGhostForTarget:Le,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){Q({sortable:t,name:e,originalEvent:o})}},r))};function Q(e){G(s({putSortable:se,cloneEl:te,targetEl:U,rootEl:J,oldIndex:oe,oldDraggableIndex:ie,newIndex:re,newDraggableIndex:ae},e))}var U,$,Z,J,K,ee,te,ne,oe,re,ie,ae,le,se,ce,ue,de,he,fe,ge,pe,ve,me,be,ye,we=!1,Ee=!1,Se=[],_e=!1,Te=!1,Ae=[],Ce=!1,De=[],ke="undefined"!=typeof document,Pe=p,Oe=h||d?"cssFloat":"float",xe=ke&&!v&&!p&&"draggable"in document.createElement("div"),Ne=function(){if(ke){if(d)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Me=function(e,t){var n=C(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=N(e,0,t),i=N(e,1,t),a=r&&C(r),l=i&&C(i),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+O(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+O(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[Oe]||i&&"none"===n[Oe]&&s+c>o)?"vertical":"horizontal"},Ie=function(e){function t(e,n){return function(o,r,i,a){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==i(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},je=function(){!Ne&&Z&&C(Z,"display","none")},Le=function(){!Ne&&Z&&C(Z,"display","")};ke&&document.addEventListener("click",(function(e){if(Ee)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ee=!1,!1}),!0);var Fe=function(e){if(U){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,i=e.clientY,Se.some((function(e){if(!M(e)){var t=O(e),n=e[X].options.emptyInsertThreshold,o=r>=t.left-n&&r<=t.right+n,l=i>=t.top-n&&i<=t.bottom+n;return n&&o&&l?a=e:void 0}})),a);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[X]._onDragOver(n)}}var r,i,a},Be=function(e){U&&U.parentNode[X]._isOutsideThisEl(e.target)};function Re(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=l({},t),e[X]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Me(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Re.supportPointer&&"PointerEvent"in window&&!g,emptyInsertThreshold:5};for(var o in z.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var r in Ie(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&xe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?b(e,"pointerdown",this._onTapStart):(b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Se.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),l(this,Y())}function qe(e,t,n,o,r,i,a,l){var s,c,u=e[X],f=u.options.onMove;return!window.CustomEvent||d||h?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=i||O(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),f&&(c=f.call(u,s,a)),c}function Xe(e){e.draggable=!1}function Ye(){Ce=!1}function He(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function We(e){return setTimeout(e,0)}function ze(e){return clearTimeout(e)}Re.prototype={constructor:Re,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,U):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(function(e){De.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&De.push(o)}}(n),!U&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!g||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=S(l,o.draggable,n,!1))&&l.animated||ee===l)){if(oe=I(l),ie=I(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return Q({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),V("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=S(s,o.trim(),n,!1))return Q({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),V("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!S(s,o.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var o,r=this,i=r.el,a=r.options,l=i.ownerDocument;if(n&&!U&&n.parentNode===i){var s=O(n);if(J=i,$=(U=n).parentNode,K=U.nextSibling,ee=n,le=a.group,Re.dragged=U,ce={target:U,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=ce.clientX-s.left,ge=ce.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,U.style["will-change"]="all",o=function(){V("delayEnded",r,{evt:e}),Re.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!f&&r.nativeDraggable&&(U.draggable=!0),r._triggerDragStart(e,t),Q({sortable:r,name:"choose",originalEvent:e}),A(U,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){k(U,e.trim(),Xe)})),b(l,"dragover",Fe),b(l,"mousemove",Fe),b(l,"touchmove",Fe),b(l,"mouseup",r._onDrop),b(l,"touchend",r._onDrop),b(l,"touchcancel",r._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),V("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(h||d))o();else{if(Re.eventCanceled)return void this._onDrop();b(l,"mouseup",r._disableDelayedDrag),b(l,"touchend",r._disableDelayedDrag),b(l,"touchcancel",r._disableDelayedDrag),b(l,"mousemove",r._delayedDragTouchMoveHandler),b(l,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&b(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&Xe(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):b(document,t?"touchmove":"mousemove",this._onTouchMove):(b(U,"dragend",this),b(J,"dragstart",this._onDragStart));try{document.selection?We((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(we=!1,J&&U){V("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",Be);var n=this.options;!e&&A(U,n.dragClass,!1),A(U,n.ghostClass,!0),Re.active=this,e&&this._appendGhost(),Q({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,je();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(U.parentNode[X]._isOutsideThisEl(e),t)do{if(t[X]){if(t[X]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Le()}},_onTouchMove:function(e){if(ce){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=Z&&D(Z,!0),a=Z&&i&&i.a,l=Z&&i&&i.d,s=Pe&&ye&&j(ye),c=(r.clientX-ce.clientX+o.x)/(a||1)+(s?s[0]-Ae[0]:0)/(a||1),u=(r.clientY-ce.clientY+o.y)/(l||1)+(s?s[1]-Ae[1]:0)/(l||1);if(!Re.active&&!we){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Z){i?(i.e+=c-(de||0),i.f+=u-(he||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");C(Z,"webkitTransform",d),C(Z,"mozTransform",d),C(Z,"msTransform",d),C(Z,"transform",d),de=c,he=u,ue=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Z){var e=this.options.fallbackOnBody?document.body:J,t=O(U,!0,Pe,!0,e),n=this.options;if(Pe){for(ye=e;"static"===C(ye,"position")&&"none"===C(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=P()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=P(),Ae=j(ye)}A(Z=U.cloneNode(!0),n.ghostClass,!1),A(Z,n.fallbackClass,!0),A(Z,n.dragClass,!0),C(Z,"transition",""),C(Z,"transform",""),C(Z,"box-sizing","border-box"),C(Z,"margin",0),C(Z,"top",t.top),C(Z,"left",t.left),C(Z,"width",t.width),C(Z,"height",t.height),C(Z,"opacity","0.8"),C(Z,"position",Pe?"absolute":"fixed"),C(Z,"zIndex","100000"),C(Z,"pointerEvents","none"),Re.ghost=Z,e.appendChild(Z),C(Z,"transform-origin",fe/parseInt(Z.style.width)*100+"% "+ge/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;V("dragStart",this,{evt:e}),Re.eventCanceled?this._onDrop():(V("setupClone",this),Re.eventCanceled||((te=q(U)).draggable=!1,te.style["will-change"]="",this._hideClone(),A(te,this.options.chosenClass,!1),Re.clone=te),n.cloneId=We((function(){V("clone",n),Re.eventCanceled||(n.options.removeCloneOnHide||J.insertBefore(te,U),n._hideClone(),Q({sortable:n,name:"clone"}))})),!t&&A(U,r.dragClass,!0),t?(Ee=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,U)),b(document,"drop",n),C(U,"transform","translateZ(0)")),we=!0,n._dragStartId=We(n._dragStarted.bind(n,t,e)),b(document,"selectstart",n),pe=!0,g&&C(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,i=this.el,a=e.target,l=this.options,c=l.group,u=Re.active,d=le===c,h=l.sort,f=se||u,g=this,p=!1;if(!Ce){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=S(a,l.draggable,i,!0),L("dragOver"),Re.eventCanceled)return p;if(U.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||g._ignoreWhileAnimating===a)return B(!1);if(Ee=!1,u&&!l.disabled&&(d?h||(o=!J.contains(U)):se===this||(this.lastPutMode=le.checkPull(this,u,U,e))&&c.checkPut(this,u,U,e))){if(r="vertical"===this._getDirection(e,a),t=O(U),L("dragOverValid"),Re.eventCanceled)return p;if(o)return $=J,F(),this._hideClone(),L("revert"),Re.eventCanceled||(K?J.insertBefore(U,K):J.appendChild(U)),B(!0);var v=M(i,l.draggable);if(!v||function(e,t,n){var o=O(M(n.el,n.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}(e,r,this)&&!v.animated){if(v===U)return B(!1);if(v&&i===e.target&&(a=v),a&&(n=O(a)),!1!==qe(J,i,U,t,a,n,e,!!a))return F(),i.appendChild(U),$=i,q(),B(!0)}else if(a.parentNode===i){n=O(a);var m,b,y,w=U.parentNode!==i,E=!function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===a||r===l||o+i/2===a+s/2}(U.animated&&U.toRect||t,a.animated&&a.toRect||n,r),_=r?"top":"left",T=x(a,"top","top")||x(U,"top","top"),D=T?T.scrollTop:void 0;if(ve!==a&&(b=n[_],_e=!1,Te=!E&&l.invertSwap||w),0!==(m=function(e,t,n,o,r,i,a,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,h=!1;if(!a)if(l&&be<c*r){if(!_e&&(1===me?s>u+c*i/2:s<d-c*i/2)&&(_e=!0),_e)h=!0;else if(1===me?s<u+be:s>d-be)return-me}else if(s>u+c*(1-r)/2&&s<d-c*(1-r)/2)return function(e){return I(U)<I(e)?1:-1}(t);if((h=h||a)&&(s<u+c*i/2||s>d-c*i/2))return s>u+c/2?1:-1;return 0}(e,a,n,r,E?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Te,ve===a))){var k=I(U);do{k-=m,y=$.children[k]}while(y&&("none"===C(y,"display")||y===Z))}if(0===m||y===a)return B(!1);ve=a,me=m;var P=a.nextElementSibling,N=!1,j=qe(J,i,U,t,a,n,e,N=1===m);if(!1!==j)return 1!==j&&-1!==j||(N=1===j),Ce=!0,setTimeout(Ye,30),F(),N&&!P?i.appendChild(U):a.parentNode.insertBefore(U,N?P:a),T&&R(T,0,D-T.scrollTop),$=U.parentNode,void 0===b||Te||(be=Math.abs(b-O(a)[_])),q(),B(!0)}if(i.contains(U))return B(!1)}return!1}function L(l,c){V(l,g,s({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:h,fromSortable:f,target:a,completed:B,onMove:function(n,o){return qe(J,i,U,t,n,O(n),e,o)},changed:q},c))}function F(){L("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function B(t){return L("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(g),g!==f&&(A(U,se?se.options.ghostClass:u.options.ghostClass,!1),A(U,l.ghostClass,!0)),se!==g&&g!==Re.active?se=g:g===Re.active&&se&&(se=null),f===g&&(g._ignoreWhileAnimating=a),g.animateAll((function(){L("dragOverAnimationComplete"),g._ignoreWhileAnimating=null})),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===U&&!U.animated||a===i&&!a.animated)&&(ve=null),l.dragoverBubble||e.rootEl||a===document||(U.parentNode[X]._isOutsideThisEl(e.target),!t&&Fe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function q(){re=I(U),ae=I(U,l.draggable),Q({sortable:g,name:"change",toEl:i,newIndex:re,newDraggableIndex:ae,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Fe),y(document,"mousemove",Fe),y(document,"touchmove",Fe)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;re=I(U),ae=I(U,n.draggable),V("drop",this,{evt:e}),$=U&&U.parentNode,re=I(U),ae=I(U,n.draggable),Re.eventCanceled||(we=!1,Te=!1,_e=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ze(this.cloneId),ze(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),g&&C(document.body,"user-select",""),C(U,"transform",""),e&&(pe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(J===$||se&&"clone"!==se.lastPutMode)&&te&&te.parentNode&&te.parentNode.removeChild(te),U&&(this.nativeDraggable&&y(U,"dragend",this),Xe(U),U.style["will-change"]="",pe&&!we&&A(U,se?se.options.ghostClass:this.options.ghostClass,!1),A(U,this.options.chosenClass,!1),Q({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:e}),J!==$?(re>=0&&(Q({rootEl:$,name:"add",toEl:$,fromEl:J,originalEvent:e}),Q({sortable:this,name:"remove",toEl:$,originalEvent:e}),Q({rootEl:$,name:"sort",toEl:$,fromEl:J,originalEvent:e}),Q({sortable:this,name:"sort",toEl:$,originalEvent:e})),se&&se.save()):re!==oe&&re>=0&&(Q({sortable:this,name:"update",toEl:$,originalEvent:e}),Q({sortable:this,name:"sort",toEl:$,originalEvent:e})),Re.active&&(null!=re&&-1!==re||(re=oe,ae=ie),Q({sortable:this,name:"end",toEl:$,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){V("nulling",this),J=U=$=Z=K=te=ee=ne=ce=ue=pe=re=ae=oe=ie=ve=me=se=le=Re.dragged=Re.ghost=Re.clone=Re.active=null,De.forEach((function(e){e.checked=!0})),De.length=de=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":U&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)S(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||He(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var r=o.children[t];S(r,this.options.draggable,o,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return S(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=z.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&Ie(n)},destroy:function(){V("destroy",this);var e=this.el;e[X]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Se.splice(Se.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(V("hideClone",this),Re.eventCanceled)return;C(te,"display","none"),this.options.removeCloneOnHide&&te.parentNode&&te.parentNode.removeChild(te),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(V("showClone",this),Re.eventCanceled)return;U.parentNode!=J||this.options.group.revertClone?K?J.insertBefore(te,K):J.appendChild(te):J.insertBefore(te,U),this.options.group.revertClone&&this.animate(U,te),C(te,"display",""),ne=!1}}else this._hideClone()}},ke&&b(document,"touchmove",(function(e){(Re.active||we)&&e.cancelable&&e.preventDefault()})),Re.utils={on:b,off:y,css:C,find:k,is:function(e,t){return!!S(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:B,closest:S,toggleClass:A,clone:q,index:I,nextTick:We,cancelNextTick:ze,detectDirection:Me,getChild:N},Re.get=function(e){return e[X]},Re.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Re.utils=s({},Re.utils,e.utils)),z.mount(e)}))},Re.create=function(e,t){return new Re(e,t)},Re.version="1.13.0";var Ge,Ve,Qe,Ue,$e,Ze,Je=[],Ke=!1;function et(){Je.forEach((function(e){clearInterval(e.pid)})),Je=[]}function tt(){clearInterval(Ze)}var nt=B((function(e,t,n,o){if(t.scroll){var r,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=P(),u=!1;Ve!==n&&(Ve=n,et(),Ge=t.scroll,r=t.scrollFn,!0===Ge&&(Ge=L(n,!0)));var d=0,h=Ge;do{var f=h,g=O(f),p=g.top,v=g.bottom,m=g.left,b=g.right,y=g.width,w=g.height,E=void 0,S=void 0,_=f.scrollWidth,T=f.scrollHeight,A=C(f),D=f.scrollLeft,k=f.scrollTop;f===c?(E=y<_&&("auto"===A.overflowX||"scroll"===A.overflowX||"visible"===A.overflowX),S=w<T&&("auto"===A.overflowY||"scroll"===A.overflowY||"visible"===A.overflowY)):(E=y<_&&("auto"===A.overflowX||"scroll"===A.overflowX),S=w<T&&("auto"===A.overflowY||"scroll"===A.overflowY));var x=E&&(Math.abs(b-i)<=l&&D+y<_)-(Math.abs(m-i)<=l&&!!D),N=S&&(Math.abs(v-a)<=l&&k+w<T)-(Math.abs(p-a)<=l&&!!k);if(!Je[d])for(var M=0;M<=d;M++)Je[M]||(Je[M]={});Je[d].vx==x&&Je[d].vy==N&&Je[d].el===f||(Je[d].el=f,Je[d].vx=x,Je[d].vy=N,clearInterval(Je[d].pid),0==x&&0==N||(u=!0,Je[d].pid=setInterval(function(){o&&0===this.layer&&Re.active._onTouchMove($e);var t=Je[this.layer].vy?Je[this.layer].vy*s:0,n=Je[this.layer].vx?Je[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Re.dragged.parentNode[X],n,t,e,$e,Je[this.layer].el)||R(Je[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=L(h,!1)));Ke=u}}),30),ot=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||r;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function rt(){}function it(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=N(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:ot},l(rt,{pluginName:"revertOnSpill"}),it.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:ot},l(it,{pluginName:"removeOnSpill"});Re.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):t.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),tt(),et(),clearTimeout(_),_=void 0},nulling:function(){$e=Ve=Ge=Ke=Ze=Qe=Ue=null,Je.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,r);if($e=e,t||h||d||g){nt(e,this.options,i,t);var a=L(i,!0);!Ke||Ze&&o===Qe&&r===Ue||(Ze&&tt(),Ze=setInterval((function(){var i=L(document.elementFromPoint(o,r),!0);i!==a&&(a=i,et()),nt(e,n.options,i,t)}),10),Qe=o,Ue=r)}else{if(!this.options.bubbleScroll||L(i,!0)===P())return void et();nt(e,this.options,L(i,!1),!1)}}},l(e,{pluginName:"scroll",initializeByDefault:!0})}),Re.mount(it,rt);var at=Re,lt=function(e){if(this.Sortables=[],this.sortableGroupEl=e.sortableGroupEl||document.getElementById("js-sortable"),this.sortableIdAttribute=e.sortableId||"data-sortable-id",this.endpoint=e.endpoint,!this.endpoint)throw new Error("Missing endpoint for sortable js. Please set the options.endpoint value");this.handle=e.handle||null,this.isSorting=e.isSorting||!1,this.sortToggles=Array.from(document.querySelectorAll("[data-sortable-toggle]")),this.hiddenWhenSortingEls=Array.from(document.querySelectorAll("[data-sortable-hide-when-sorting]")),this.showWhenSortingEls=Array.from(document.querySelectorAll("[data-sortable-show-when-sorting]")),this._init()};lt.prototype.destroy=function(){this.Sortables.forEach((function(e){return e.destroy()}))},lt.prototype.toggle=function(e){this.isSorting=!this.isSorting,this.isSorting?(e.target.innerText="Stop met sorteren",this.showSorting()):(e.target.innerText="Sorteer handmatig",this.hideSorting())},lt.prototype.showSorting=function(){this.hiddenWhenSortingEls.forEach((function(e){e.classList.add("hidden")})),this.showWhenSortingEls.forEach((function(e){e.classList.remove("hidden")})),this.Sortables.forEach((function(e){e.option("disabled",!1)}))},lt.prototype.hideSorting=function(){this.hiddenWhenSortingEls.forEach((function(e){e.classList.remove("hidden")})),this.showWhenSortingEls.forEach((function(e){e.classList.add("hidden")})),this.Sortables.forEach((function(e){e.option("disabled",!0)}))},lt.prototype._init=function(){var e=this,t=this;this.Sortables.push(at.create(this.sortableGroupEl,{group:"models",fallbackOnBody:!0,swapThreshold:.65,dataIdAttr:this.sortableIdAttribute,handle:this.handle,animation:200,easing:"cubic-bezier(0.87, 0, 0.13, 1)",filter:"[data-sortable-ignore]",store:{set:function(e){var n=e.toArray();fetch(t.endpoint,{method:"post",body:JSON.stringify({indices:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){window.Eventbus.$emit("create-notification","success","Nieuwe sortering bewaard.",2e3),r.a.publish("sortable-stored")})).catch((function(e){window.Eventbus.$emit("create-notification","error","Sortering kan niet worden bewaard. Er is iets misgelopen."),r.a.publish("sortable-stored"),console.error(e)}))}}})),this.sortToggles.forEach((function(t){t.addEventListener("click",e.toggle.bind(e))})),this.isSorting?this.showSorting():this.hideSorting()}}});